import{a as ie,d as ce,r as se,f as ee,h as ae,$ as fe,u as P,l as Re,a0 as Si,i as st,a1 as ct,a2 as _n,a3 as de,a4 as Mi,J as Ni,o as K,E as gl,a5 as Ci,Y as ml,A as ge,a6 as zi,a7 as yl,C as tt,w as ke,F as Ne,k as Mt,n as Pe,a8 as wl,p as he,a9 as _l,H as ko,j as ye,t as Cn,L as me,K as Un,G as _t,I as bt,c as _e,aa as Ai,D as Pi,m as bl,z as mt,ab as xl,g as Ti}from"./vue-common-lib-ea72eab0.js";import{I as Fo,_ as kl}from"./index-d00075fa.js";import"./react-common-lib-39001c55.js";const $l=Fo("log",!0,function(e){return ie("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[ie("rect",{x:"13",y:"10",width:"28",height:"34",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M35 10V4H8C7.44772 4 7 4.44772 7 5V38H13",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M21 22H33",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M21 30H33",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),El=Fo("resting",!0,function(e){return ie("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[ie("path",{d:"M24 26V38",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M24 6V26",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M24 4V6",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M8 40H34L40 34",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M15 40V44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M32 40V44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M24 6C14.0589 6 6 14.034 6 23.9444V26C6 23.5224 8.01472 21 10.5 21C12.9853 21 15 23.5224 15 26C15 23.5224 17.0147 21 19.5 21C21.9853 21 24 23.5224 24 26C24 23.5224 26.0147 21 28.5 21C30.9853 21 33 23.5224 33 26C33 23.5224 35.0147 21 37.5 21C39.9853 21 42 23.5224 42 26V23.9444C42 14.034 33.9411 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M15.0003 26C15.0003 26 13.4999 20.5 16.0005 15C18.5011 9.49998 24.0002 5.99999 24.0002 5.99999",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M33.0002 26C33.0002 26 33.5006 21.5 31.0003 15C28.5 8.5 24.0002 5.99999 24.0002 5.99999",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M24 25V6",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M28.5 21C30.9853 21 33 23.5224 33 26C33 23.5224 35.0147 21 37.5 21",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M28.5 21C26.0147 21 24 23.5224 24 26C24 23.5224 21.9853 21 19.5 21",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M10.5 21C12.9853 21 15 23.5224 15 26C15 23.5224 17.0147 21 19.5 21",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M15.7334 8C18.2088 6.72196 21.0197 6 23.9998 6C26.9798 6 29.7908 6.72196 32.2661 8",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),Sl=Fo("shuffle",!0,function(e){return ie("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[ie("path",{d:"M30 42H42V30",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M42 18V6H30",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M42 6L6 42",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),ie("path",{d:"M31.5 31.5L34 34L39 39L41.5 41.5L42 42M24 24L6 6L24 24Z",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])});function nn(e){return Si()?(_n(e),!0):!1}function ue(e){return typeof e=="function"?e():P(e)}const Oi=typeof window<"u",Ml=e=>typeof e<"u",Ii=()=>{};function Nl(e,t){function n(...o){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(i)})}return n}const Bi=e=>e();function Cl(e=Bi){const t=se(!0);function n(){t.value=!1}function o(){t.value=!0}const r=(...i)=>{t.value&&e(...i)};return{isActive:Mi(t),pause:n,resume:o,eventFilter:r}}function gr(e,t=!1,n="Timeout"){return new Promise((o,r)=>{setTimeout(t?()=>r(n):o,e)})}function $o(...e){if(e.length!==1)return de(...e);const t=e[0];return typeof t=="function"?Mi(Ni(()=>({get:t,set:Ii}))):se(t)}var zl=Object.defineProperty,Al=Object.defineProperties,Pl=Object.getOwnPropertyDescriptors,mr=Object.getOwnPropertySymbols,Tl=Object.prototype.hasOwnProperty,Ol=Object.prototype.propertyIsEnumerable,yr=(e,t,n)=>t in e?zl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Il=(e,t)=>{for(var n in t||(t={}))Tl.call(t,n)&&yr(e,n,t[n]);if(mr)for(var n of mr(t))Ol.call(t,n)&&yr(e,n,t[n]);return e},Bl=(e,t)=>Al(e,Pl(t));function Dl(e){if(!Ci(e))return ml(e);const t=Array.isArray(e.value)?new Array(e.value.length):{};for(const n in e.value)t[n]=Ni(()=>({get(){return e.value[n]},set(o){if(Array.isArray(e.value)){const r=[...e.value];r[n]=o,e.value=r}else{const r=Bl(Il({},e.value),{[n]:o});Object.setPrototypeOf(r,e.value),e.value=r}}}));return t}function Eo(e,t=!1){function n(h,{flush:f="sync",deep:p=!1,timeout:g,throwOnTimeout:m}={}){let k=null;const b=[new Promise(C=>{k=ge(e,z=>{h(z)!==t&&(k==null||k(),C(z))},{flush:f,deep:p,immediate:!0})})];return g!=null&&b.push(gr(g,m).then(()=>ue(e)).finally(()=>k==null?void 0:k())),Promise.race(b)}function o(h,f){if(!Ci(h))return n(z=>z===h,f);const{flush:p="sync",deep:g=!1,timeout:m,throwOnTimeout:k}=f??{};let b=null;const C=[new Promise(z=>{b=ge([e,h],([w,O])=>{t!==(w===O)&&(b==null||b(),z(w))},{flush:p,deep:g,immediate:!0})})];return m!=null&&C.push(gr(m,k).then(()=>ue(e)).finally(()=>(b==null||b(),ue(e)))),Promise.race(C)}function r(h){return n(f=>!!f,h)}function i(h){return o(null,h)}function a(h){return o(void 0,h)}function l(h){return n(Number.isNaN,h)}function u(h,f){return n(p=>{const g=Array.from(p);return g.includes(h)||g.includes(ue(h))},f)}function s(h){return c(1,h)}function c(h=1,f){let p=-1;return n(()=>(p+=1,p>=h),f)}return Array.isArray(ue(e))?{toMatch:n,toContains:u,changed:s,changedTimes:c,get not(){return Eo(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:r,toBeNull:i,toBeNaN:l,toBeUndefined:a,changed:s,changedTimes:c,get not(){return Eo(e,!t)}}}function Nt(e){return Eo(e)}var wr=Object.getOwnPropertySymbols,Rl=Object.prototype.hasOwnProperty,Vl=Object.prototype.propertyIsEnumerable,Ll=(e,t)=>{var n={};for(var o in e)Rl.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&wr)for(var o of wr(e))t.indexOf(o)<0&&Vl.call(e,o)&&(n[o]=e[o]);return n};function Hl(e,t,n={}){const o=n,{eventFilter:r=Bi}=o,i=Ll(o,["eventFilter"]);return ge(e,Nl(r,t),i)}var jl=Object.defineProperty,Xl=Object.defineProperties,Yl=Object.getOwnPropertyDescriptors,zn=Object.getOwnPropertySymbols,Di=Object.prototype.hasOwnProperty,Ri=Object.prototype.propertyIsEnumerable,_r=(e,t,n)=>t in e?jl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gl=(e,t)=>{for(var n in t||(t={}))Di.call(t,n)&&_r(e,n,t[n]);if(zn)for(var n of zn(t))Ri.call(t,n)&&_r(e,n,t[n]);return e},Fl=(e,t)=>Xl(e,Yl(t)),Ul=(e,t)=>{var n={};for(var o in e)Di.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&zn)for(var o of zn(e))t.indexOf(o)<0&&Ri.call(e,o)&&(n[o]=e[o]);return n};function gt(e,t,n={}){const o=n,{eventFilter:r}=o,i=Ul(o,["eventFilter"]),{eventFilter:a,pause:l,resume:u,isActive:s}=Cl(r);return{stop:Hl(e,t,Fl(Gl({},i),{eventFilter:a})),pause:l,resume:u,isActive:s}}function So(e){var t;const n=ue(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Uo=Oi?window:void 0;function Wo(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=Uo):[t,n,o,r]=e,!t)return Ii;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],a=()=>{i.forEach(c=>c()),i.length=0},l=(c,h,f,p)=>(c.addEventListener(h,f,p),()=>c.removeEventListener(h,f,p)),u=ge(()=>[So(t),ue(r)],([c,h])=>{a(),c&&i.push(...n.flatMap(f=>o.map(p=>l(c,f,p,h))))},{immediate:!0,flush:"post"}),s=()=>{u(),a()};return nn(s),s}function Wl(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function br(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=Uo,eventName:i="keydown",passive:a=!1,dedupe:l=!1}=o,u=Wl(t);return Wo(r,i,s=>{s.repeat&&ue(l)||u(s)&&n(s)},a)}function Zl(){const e=se(!1);return Un()&&tt(()=>{e.value=!0}),e}function ql(e){const t=Zl();return ee(()=>(t.value,!!e()))}function Kl(e){return JSON.parse(JSON.stringify(e))}var xr=Object.getOwnPropertySymbols,Jl=Object.prototype.hasOwnProperty,Ql=Object.prototype.propertyIsEnumerable,eu=(e,t)=>{var n={};for(var o in e)Jl.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&xr)for(var o of xr(e))t.indexOf(o)<0&&Ql.call(e,o)&&(n[o]=e[o]);return n};function tu(e,t,n={}){const o=n,{window:r=Uo}=o,i=eu(o,["window"]);let a;const l=ql(()=>r&&"ResizeObserver"in r),u=()=>{a&&(a.disconnect(),a=void 0)},s=ee(()=>Array.isArray(e)?e.map(f=>So(f)):[So(e)]),c=ge(s,f=>{if(u(),l.value&&r){a=new ResizeObserver(t);for(const p of f)p&&a.observe(p,i)}},{immediate:!0,flush:"post",deep:!0}),h=()=>{u(),c()};return nn(h),{isSupported:l,stop:h}}function Gt(e,t,n,o={}){var r,i,a;const{clone:l=!1,passive:u=!1,eventName:s,deep:c=!1,defaultValue:h,shouldEmit:f}=o,p=Un(),g=n||(p==null?void 0:p.emit)||((r=p==null?void 0:p.$emit)==null?void 0:r.bind(p))||((a=(i=p==null?void 0:p.proxy)==null?void 0:i.$emit)==null?void 0:a.bind(p==null?void 0:p.proxy));let m=s;t||(t="modelValue"),m=s||m||`update:${t.toString()}`;const k=z=>l?typeof l=="function"?l(z):Kl(z):z,b=()=>Ml(e[t])?k(e[t]):h,C=z=>{f?f(z)&&g(m,z):g(m,z)};if(u){const z=b(),w=se(z);return ge(()=>e[t],O=>w.value=k(O)),ge(w,O=>{(O!==e[t]||c)&&C(O)},{deep:c}),w}else return ee({get(){return b()},set(z){C(z)}})}var nu={value:()=>{}};function Wn(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new bn(n)}function bn(e){this._=e}function ou(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}bn.prototype=Wn.prototype={constructor:bn,on:function(e,t){var n=this._,o=ou(e+"",n),r,i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((r=(e=o[i]).type)&&(r=ru(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(r=(e=o[i]).type)n[r]=kr(n[r],e.name,t);else if(t==null)for(r in n)n[r]=kr(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new bn(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,i;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};function ru(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function kr(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=nu,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Mo="http://www.w3.org/1999/xhtml";const $r={svg:"http://www.w3.org/2000/svg",xhtml:Mo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),$r.hasOwnProperty(t)?{space:$r[t],local:e}:e}function iu(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Mo&&t.documentElement.namespaceURI===Mo?t.createElement(e):t.createElementNS(n,e)}}function au(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Vi(e){var t=Zn(e);return(t.local?au:iu)(t)}function lu(){}function Zo(e){return e==null?lu:function(){return this.querySelector(e)}}function uu(e){typeof e!="function"&&(e=Zo(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,l=o[r]=new Array(a),u,s,c=0;c<a;++c)(u=i[c])&&(s=e.call(u,u.__data__,c,i))&&("__data__"in u&&(s.__data__=u.__data__),l[c]=s);return new Se(o,this._parents)}function su(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function cu(){return[]}function Li(e){return e==null?cu:function(){return this.querySelectorAll(e)}}function du(e){return function(){return su(e.apply(this,arguments))}}function hu(e){typeof e=="function"?e=du(e):e=Li(e);for(var t=this._groups,n=t.length,o=[],r=[],i=0;i<n;++i)for(var a=t[i],l=a.length,u,s=0;s<l;++s)(u=a[s])&&(o.push(e.call(u,u.__data__,s,a)),r.push(u));return new Se(o,r)}function Hi(e){return function(){return this.matches(e)}}function ji(e){return function(t){return t.matches(e)}}var fu=Array.prototype.find;function pu(e){return function(){return fu.call(this.children,e)}}function vu(){return this.firstElementChild}function gu(e){return this.select(e==null?vu:pu(typeof e=="function"?e:ji(e)))}var mu=Array.prototype.filter;function yu(){return Array.from(this.children)}function wu(e){return function(){return mu.call(this.children,e)}}function _u(e){return this.selectAll(e==null?yu:wu(typeof e=="function"?e:ji(e)))}function bu(e){typeof e!="function"&&(e=Hi(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,l=o[r]=[],u,s=0;s<a;++s)(u=i[s])&&e.call(u,u.__data__,s,i)&&l.push(u);return new Se(o,this._parents)}function Xi(e){return new Array(e.length)}function xu(){return new Se(this._enter||this._groups.map(Xi),this._parents)}function An(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}An.prototype={constructor:An,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ku(e){return function(){return e}}function $u(e,t,n,o,r,i){for(var a=0,l,u=t.length,s=i.length;a<s;++a)(l=t[a])?(l.__data__=i[a],o[a]=l):n[a]=new An(e,i[a]);for(;a<u;++a)(l=t[a])&&(r[a]=l)}function Eu(e,t,n,o,r,i,a){var l,u,s=new Map,c=t.length,h=i.length,f=new Array(c),p;for(l=0;l<c;++l)(u=t[l])&&(f[l]=p=a.call(u,u.__data__,l,t)+"",s.has(p)?r[l]=u:s.set(p,u));for(l=0;l<h;++l)p=a.call(e,i[l],l,i)+"",(u=s.get(p))?(o[l]=u,u.__data__=i[l],s.delete(p)):n[l]=new An(e,i[l]);for(l=0;l<c;++l)(u=t[l])&&s.get(f[l])===u&&(r[l]=u)}function Su(e){return e.__data__}function Mu(e,t){if(!arguments.length)return Array.from(this,Su);var n=t?Eu:$u,o=this._parents,r=this._groups;typeof e!="function"&&(e=ku(e));for(var i=r.length,a=new Array(i),l=new Array(i),u=new Array(i),s=0;s<i;++s){var c=o[s],h=r[s],f=h.length,p=Nu(e.call(c,c&&c.__data__,s,o)),g=p.length,m=l[s]=new Array(g),k=a[s]=new Array(g),b=u[s]=new Array(f);n(c,h,m,k,b,p,t);for(var C=0,z=0,w,O;C<g;++C)if(w=m[C]){for(C>=z&&(z=C+1);!(O=k[z])&&++z<g;);w._next=O||null}}return a=new Se(a,o),a._enter=l,a._exit=u,a}function Nu(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Cu(){return new Se(this._exit||this._groups.map(Xi),this._parents)}function zu(e,t,n){var o=this.enter(),r=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),o&&r?o.merge(r).order():r}function Au(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,a=Math.min(r,i),l=new Array(r),u=0;u<a;++u)for(var s=n[u],c=o[u],h=s.length,f=l[u]=new Array(h),p,g=0;g<h;++g)(p=s[g]||c[g])&&(f[g]=p);for(;u<r;++u)l[u]=n[u];return new Se(l,this._parents)}function Pu(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,i=o[r],a;--r>=0;)(a=o[r])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function Tu(e){e||(e=Ou);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var a=n[i],l=a.length,u=r[i]=new Array(l),s,c=0;c<l;++c)(s=a[c])&&(u[c]=s);u.sort(t)}return new Se(r,this._parents).order()}function Ou(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Iu(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Bu(){return Array.from(this)}function Du(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var a=o[r];if(a)return a}return null}function Ru(){let e=0;for(const t of this)++e;return e}function Vu(){return!this.node()}function Lu(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],i=0,a=r.length,l;i<a;++i)(l=r[i])&&e.call(l,l.__data__,i,r);return this}function Hu(e){return function(){this.removeAttribute(e)}}function ju(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Xu(e,t){return function(){this.setAttribute(e,t)}}function Yu(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Gu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Fu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Uu(e,t){var n=Zn(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?ju:Hu:typeof t=="function"?n.local?Fu:Gu:n.local?Yu:Xu)(n,t))}function Yi(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Wu(e){return function(){this.style.removeProperty(e)}}function Zu(e,t,n){return function(){this.style.setProperty(e,t,n)}}function qu(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Ku(e,t,n){return arguments.length>1?this.each((t==null?Wu:typeof t=="function"?qu:Zu)(e,t,n??"")):Ct(this.node(),e)}function Ct(e,t){return e.style.getPropertyValue(t)||Yi(e).getComputedStyle(e,null).getPropertyValue(t)}function Ju(e){return function(){delete this[e]}}function Qu(e,t){return function(){this[e]=t}}function es(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ts(e,t){return arguments.length>1?this.each((t==null?Ju:typeof t=="function"?es:Qu)(e,t)):this.node()[e]}function Gi(e){return e.trim().split(/^|\s+/)}function qo(e){return e.classList||new Fi(e)}function Fi(e){this._node=e,this._names=Gi(e.getAttribute("class")||"")}Fi.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ui(e,t){for(var n=qo(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function Wi(e,t){for(var n=qo(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function ns(e){return function(){Ui(this,e)}}function os(e){return function(){Wi(this,e)}}function rs(e,t){return function(){(t.apply(this,arguments)?Ui:Wi)(this,e)}}function is(e,t){var n=Gi(e+"");if(arguments.length<2){for(var o=qo(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?rs:t?ns:os)(n,t))}function as(){this.textContent=""}function ls(e){return function(){this.textContent=e}}function us(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function ss(e){return arguments.length?this.each(e==null?as:(typeof e=="function"?us:ls)(e)):this.node().textContent}function cs(){this.innerHTML=""}function ds(e){return function(){this.innerHTML=e}}function hs(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function fs(e){return arguments.length?this.each(e==null?cs:(typeof e=="function"?hs:ds)(e)):this.node().innerHTML}function ps(){this.nextSibling&&this.parentNode.appendChild(this)}function vs(){return this.each(ps)}function gs(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ms(){return this.each(gs)}function ys(e){var t=typeof e=="function"?e:Vi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ws(){return null}function _s(e,t){var n=typeof e=="function"?e:Vi(e),o=t==null?ws:typeof t=="function"?t:Zo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function bs(){var e=this.parentNode;e&&e.removeChild(this)}function xs(){return this.each(bs)}function ks(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $s(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Es(e){return this.select(e?$s:ks)}function Ss(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ms(e){return function(t){e.call(this,t,this.__data__)}}function Ns(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Cs(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++o]=i;++o?t.length=o:delete this.__on}}}function zs(e,t,n){return function(){var o=this.__on,r,i=Ms(t);if(o){for(var a=0,l=o.length;a<l;++a)if((r=o[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function As(e,t,n){var o=Ns(e+""),r,i=o.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,s=l.length,c;u<s;++u)for(r=0,c=l[u];r<i;++r)if((a=o[r]).type===c.type&&a.name===c.name)return c.value}return}for(l=t?zs:Cs,r=0;r<i;++r)this.each(l(o[r],t,n));return this}function Zi(e,t,n){var o=Yi(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Ps(e,t){return function(){return Zi(this,e,t)}}function Ts(e,t){return function(){return Zi(this,e,t.apply(this,arguments))}}function Os(e,t){return this.each((typeof t=="function"?Ts:Ps)(e,t))}function*Is(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length,a;r<i;++r)(a=o[r])&&(yield a)}var qi=[null];function Se(e,t){this._groups=e,this._parents=t}function on(){return new Se([[document.documentElement]],qi)}function Bs(){return this}Se.prototype=on.prototype={constructor:Se,select:uu,selectAll:hu,selectChild:gu,selectChildren:_u,filter:bu,data:Mu,enter:xu,exit:Cu,join:zu,merge:Au,selection:Bs,order:Pu,sort:Tu,call:Iu,nodes:Bu,node:Du,size:Ru,empty:Vu,each:Lu,attr:Uu,style:Ku,property:ts,classed:is,text:ss,html:fs,raise:vs,lower:ms,append:ys,insert:_s,remove:xs,clone:Es,datum:Ss,on:As,dispatch:Os,[Symbol.iterator]:Is};function Ce(e){return typeof e=="string"?new Se([[document.querySelector(e)]],[document.documentElement]):new Se([[e]],qi)}function Ds(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ie(e,t){if(e=Ds(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Rs={passive:!1},Ut={capture:!0,passive:!1};function uo(e){e.stopImmediatePropagation()}function xt(e){e.preventDefault(),e.stopImmediatePropagation()}function Ki(e){var t=e.document.documentElement,n=Ce(e).on("dragstart.drag",xt,Ut);"onselectstart"in t?n.on("selectstart.drag",xt,Ut):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ji(e,t){var n=e.document.documentElement,o=Ce(e).on("dragstart.drag",null);t&&(o.on("click.drag",xt,Ut),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const un=e=>()=>e;function No(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:i,x:a,y:l,dx:u,dy:s,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:c}})}No.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Vs(e){return!e.ctrlKey&&!e.button}function Ls(){return this.parentNode}function Hs(e,t){return t??{x:e.x,y:e.y}}function js(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xs(){var e=Vs,t=Ls,n=Hs,o=js,r={},i=Wn("start","drag","end"),a=0,l,u,s,c,h=0;function f(w){w.on("mousedown.drag",p).filter(o).on("touchstart.drag",k).on("touchmove.drag",b,Rs).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(w,O){if(!(c||!e.call(this,w,O))){var y=z(this,t.call(this,w,O),w,O,"mouse");y&&(Ce(w.view).on("mousemove.drag",g,Ut).on("mouseup.drag",m,Ut),Ki(w.view),uo(w),s=!1,l=w.clientX,u=w.clientY,y("start",w))}}function g(w){if(xt(w),!s){var O=w.clientX-l,y=w.clientY-u;s=O*O+y*y>h}r.mouse("drag",w)}function m(w){Ce(w.view).on("mousemove.drag mouseup.drag",null),Ji(w.view,s),xt(w),r.mouse("end",w)}function k(w,O){if(e.call(this,w,O)){var y=w.changedTouches,R=t.call(this,w,O),Y=y.length,V,L;for(V=0;V<Y;++V)(L=z(this,R,w,O,y[V].identifier,y[V]))&&(uo(w),L("start",w,y[V]))}}function b(w){var O=w.changedTouches,y=O.length,R,Y;for(R=0;R<y;++R)(Y=r[O[R].identifier])&&(xt(w),Y("drag",w,O[R]))}function C(w){var O=w.changedTouches,y=O.length,R,Y;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),R=0;R<y;++R)(Y=r[O[R].identifier])&&(uo(w),Y("end",w,O[R]))}function z(w,O,y,R,Y,V){var L=i.copy(),te=Ie(V||y,O),J,oe,d;if((d=n.call(w,new No("beforestart",{sourceEvent:y,target:f,identifier:Y,active:a,x:te[0],y:te[1],dx:0,dy:0,dispatch:L}),R))!=null)return J=d.x-te[0]||0,oe=d.y-te[1]||0,function $(v,_,S){var E=te,N;switch(v){case"start":r[Y]=$,N=a++;break;case"end":delete r[Y],--a;case"drag":te=Ie(S||_,O),N=a;break}L.call(v,w,new No(v,{sourceEvent:_,subject:d,target:f,identifier:Y,active:N,x:te[0]+J,y:te[1]+oe,dx:te[0]-E[0],dy:te[1]-E[1],dispatch:L}),R)}}return f.filter=function(w){return arguments.length?(e=typeof w=="function"?w:un(!!w),f):e},f.container=function(w){return arguments.length?(t=typeof w=="function"?w:un(w),f):t},f.subject=function(w){return arguments.length?(n=typeof w=="function"?w:un(w),f):n},f.touchable=function(w){return arguments.length?(o=typeof w=="function"?w:un(!!w),f):o},f.on=function(){var w=i.on.apply(i,arguments);return w===i?f:w},f.clickDistance=function(w){return arguments.length?(h=(w=+w)*w,f):Math.sqrt(h)},f}function Ko(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Qi(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function rn(){}var Wt=.7,Pn=1/Wt,kt="\\s*([+-]?\\d+)\\s*",Zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Be="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ys=/^#([0-9a-f]{3,8})$/,Gs=new RegExp(`^rgb\\(${kt},${kt},${kt}\\)$`),Fs=new RegExp(`^rgb\\(${Be},${Be},${Be}\\)$`),Us=new RegExp(`^rgba\\(${kt},${kt},${kt},${Zt}\\)$`),Ws=new RegExp(`^rgba\\(${Be},${Be},${Be},${Zt}\\)$`),Zs=new RegExp(`^hsl\\(${Zt},${Be},${Be}\\)$`),qs=new RegExp(`^hsla\\(${Zt},${Be},${Be},${Zt}\\)$`),Er={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ko(rn,qt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Sr,formatHex:Sr,formatHex8:Ks,formatHsl:Js,formatRgb:Mr,toString:Mr});function Sr(){return this.rgb().formatHex()}function Ks(){return this.rgb().formatHex8()}function Js(){return ea(this).formatHsl()}function Mr(){return this.rgb().formatRgb()}function qt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ys.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Nr(t):n===3?new $e(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?sn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?sn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Gs.exec(e))?new $e(t[1],t[2],t[3],1):(t=Fs.exec(e))?new $e(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Us.exec(e))?sn(t[1],t[2],t[3],t[4]):(t=Ws.exec(e))?sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Zs.exec(e))?Ar(t[1],t[2]/100,t[3]/100,1):(t=qs.exec(e))?Ar(t[1],t[2]/100,t[3]/100,t[4]):Er.hasOwnProperty(e)?Nr(Er[e]):e==="transparent"?new $e(NaN,NaN,NaN,0):null}function Nr(e){return new $e(e>>16&255,e>>8&255,e&255,1)}function sn(e,t,n,o){return o<=0&&(e=t=n=NaN),new $e(e,t,n,o)}function Qs(e){return e instanceof rn||(e=qt(e)),e?(e=e.rgb(),new $e(e.r,e.g,e.b,e.opacity)):new $e}function Co(e,t,n,o){return arguments.length===1?Qs(e):new $e(e,t,n,o??1)}function $e(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Ko($e,Co,Qi(rn,{brighter(e){return e=e==null?Pn:Math.pow(Pn,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wt:Math.pow(Wt,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $e(at(this.r),at(this.g),at(this.b),Tn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cr,formatHex:Cr,formatHex8:ec,formatRgb:zr,toString:zr}));function Cr(){return`#${ot(this.r)}${ot(this.g)}${ot(this.b)}`}function ec(){return`#${ot(this.r)}${ot(this.g)}${ot(this.b)}${ot((isNaN(this.opacity)?1:this.opacity)*255)}`}function zr(){const e=Tn(this.opacity);return`${e===1?"rgb(":"rgba("}${at(this.r)}, ${at(this.g)}, ${at(this.b)}${e===1?")":`, ${e})`}`}function Tn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function at(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ot(e){return e=at(e),(e<16?"0":"")+e.toString(16)}function Ar(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ze(e,t,n,o)}function ea(e){if(e instanceof ze)return new ze(e.h,e.s,e.l,e.opacity);if(e instanceof rn||(e=qt(e)),!e)return new ze;if(e instanceof ze)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),a=NaN,l=i-r,u=(i+r)/2;return l?(t===i?a=(n-o)/l+(n<o)*6:n===i?a=(o-t)/l+2:a=(t-n)/l+4,l/=u<.5?i+r:2-i-r,a*=60):l=u>0&&u<1?0:a,new ze(a,l,u,e.opacity)}function tc(e,t,n,o){return arguments.length===1?ea(e):new ze(e,t,n,o??1)}function ze(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Ko(ze,tc,Qi(rn,{brighter(e){return e=e==null?Pn:Math.pow(Pn,e),new ze(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wt:Math.pow(Wt,e),new ze(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new $e(so(e>=240?e-240:e+120,r,o),so(e,r,o),so(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new ze(Pr(this.h),cn(this.s),cn(this.l),Tn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tn(this.opacity);return`${e===1?"hsl(":"hsla("}${Pr(this.h)}, ${cn(this.s)*100}%, ${cn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Pr(e){return e=(e||0)%360,e<0?e+360:e}function cn(e){return Math.max(0,Math.min(1,e||0))}function so(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ta=e=>()=>e;function nc(e,t){return function(n){return e+n*t}}function oc(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function rc(e){return(e=+e)==1?na:function(t,n){return n-t?oc(t,n,e):ta(isNaN(t)?n:t)}}function na(e,t){var n=t-e;return n?nc(e,n):ta(isNaN(e)?t:e)}const Tr=function e(t){var n=rc(t);function o(r,i){var a=n((r=Co(r)).r,(i=Co(i)).r),l=n(r.g,i.g),u=n(r.b,i.b),s=na(r.opacity,i.opacity);return function(c){return r.r=a(c),r.g=l(c),r.b=u(c),r.opacity=s(c),r+""}}return o.gamma=e,o}(1);function Ke(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var zo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,co=new RegExp(zo.source,"g");function ic(e){return function(){return e}}function ac(e){return function(t){return e(t)+""}}function lc(e,t){var n=zo.lastIndex=co.lastIndex=0,o,r,i,a=-1,l=[],u=[];for(e=e+"",t=t+"";(o=zo.exec(e))&&(r=co.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),l[a]?l[a]+=i:l[++a]=i),(o=o[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,u.push({i:a,x:Ke(o,r)})),n=co.lastIndex;return n<t.length&&(i=t.slice(n),l[a]?l[a]+=i:l[++a]=i),l.length<2?u[0]?ac(u[0].x):ic(t):(t=u.length,function(s){for(var c=0,h;c<t;++c)l[(h=u[c]).i]=h.x(s);return l.join("")})}var Or=180/Math.PI,oa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ra(e,t,n,o,r,i){var a,l,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*o)&&(n-=e*u,o-=t*u),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,u/=l),e*o<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*Or,skewX:Math.atan(u)*Or,scaleX:a,scaleY:l}}var dn;function uc(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?oa:ra(t.a,t.b,t.c,t.d,t.e,t.f)}function sc(e){return e==null||(dn||(dn=document.createElementNS("http://www.w3.org/2000/svg","g")),dn.setAttribute("transform",e),!(e=dn.transform.baseVal.consolidate()))?oa:(e=e.matrix,ra(e.a,e.b,e.c,e.d,e.e,e.f))}function ia(e,t,n,o){function r(s){return s.length?s.pop()+" ":""}function i(s,c,h,f,p,g){if(s!==h||c!==f){var m=p.push("translate(",null,t,null,n);g.push({i:m-4,x:Ke(s,h)},{i:m-2,x:Ke(c,f)})}else(h||f)&&p.push("translate("+h+t+f+n)}function a(s,c,h,f){s!==c?(s-c>180?c+=360:c-s>180&&(s+=360),f.push({i:h.push(r(h)+"rotate(",null,o)-2,x:Ke(s,c)})):c&&h.push(r(h)+"rotate("+c+o)}function l(s,c,h,f){s!==c?f.push({i:h.push(r(h)+"skewX(",null,o)-2,x:Ke(s,c)}):c&&h.push(r(h)+"skewX("+c+o)}function u(s,c,h,f,p,g){if(s!==h||c!==f){var m=p.push(r(p)+"scale(",null,",",null,")");g.push({i:m-4,x:Ke(s,h)},{i:m-2,x:Ke(c,f)})}else(h!==1||f!==1)&&p.push(r(p)+"scale("+h+","+f+")")}return function(s,c){var h=[],f=[];return s=e(s),c=e(c),i(s.translateX,s.translateY,c.translateX,c.translateY,h,f),a(s.rotate,c.rotate,h,f),l(s.skewX,c.skewX,h,f),u(s.scaleX,s.scaleY,c.scaleX,c.scaleY,h,f),s=c=null,function(p){for(var g=-1,m=f.length,k;++g<m;)h[(k=f[g]).i]=k.x(p);return h.join("")}}}var cc=ia(uc,"px, ","px)","deg)"),dc=ia(sc,", ",")",")"),hc=1e-12;function Ir(e){return((e=Math.exp(e))+1/e)/2}function fc(e){return((e=Math.exp(e))-1/e)/2}function pc(e){return((e=Math.exp(2*e))-1)/(e+1)}const vc=function e(t,n,o){function r(i,a){var l=i[0],u=i[1],s=i[2],c=a[0],h=a[1],f=a[2],p=c-l,g=h-u,m=p*p+g*g,k,b;if(m<hc)b=Math.log(f/s)/t,k=function(R){return[l+R*p,u+R*g,s*Math.exp(t*R*b)]};else{var C=Math.sqrt(m),z=(f*f-s*s+o*m)/(2*s*n*C),w=(f*f-s*s-o*m)/(2*f*n*C),O=Math.log(Math.sqrt(z*z+1)-z),y=Math.log(Math.sqrt(w*w+1)-w);b=(y-O)/t,k=function(R){var Y=R*b,V=Ir(O),L=s/(n*C)*(V*pc(t*Y+O)-fc(O));return[l+L*p,u+L*g,s*V/Ir(t*Y+O)]}}return k.duration=b*1e3*t/Math.SQRT2,k}return r.rho=function(i){var a=Math.max(.001,+i),l=a*a,u=l*l;return e(a,l,u)},r}(Math.SQRT2,2,4);var zt=0,Lt=0,Bt=0,aa=1e3,On,Ht,In=0,dt=0,qn=0,Kt=typeof performance=="object"&&performance.now?performance:Date,la=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Jo(){return dt||(la(gc),dt=Kt.now()+qn)}function gc(){dt=0}function Bn(){this._call=this._time=this._next=null}Bn.prototype=ua.prototype={constructor:Bn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Jo():+n)+(t==null?0:+t),!this._next&&Ht!==this&&(Ht?Ht._next=this:On=this,Ht=this),this._call=e,this._time=n,Ao()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ao())}};function ua(e,t,n){var o=new Bn;return o.restart(e,t,n),o}function mc(){Jo(),++zt;for(var e=On,t;e;)(t=dt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--zt}function Br(){dt=(In=Kt.now())+qn,zt=Lt=0;try{mc()}finally{zt=0,wc(),dt=0}}function yc(){var e=Kt.now(),t=e-In;t>aa&&(qn-=t,In=e)}function wc(){for(var e,t=On,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:On=n);Ht=e,Ao(o)}function Ao(e){if(!zt){Lt&&(Lt=clearTimeout(Lt));var t=e-dt;t>24?(e<1/0&&(Lt=setTimeout(Br,e-Kt.now()-qn)),Bt&&(Bt=clearInterval(Bt))):(Bt||(In=Kt.now(),Bt=setInterval(yc,aa)),zt=1,la(Br))}}function Dr(e,t,n){var o=new Bn;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var _c=Wn("start","end","cancel","interrupt"),bc=[],sa=0,Rr=1,Po=2,xn=3,Vr=4,To=5,kn=6;function Kn(e,t,n,o,r,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;xc(e,n,{name:t,index:o,group:r,on:_c,tween:bc,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:sa})}function Qo(e,t){var n=Te(e,t);if(n.state>sa)throw new Error("too late; already scheduled");return n}function Ve(e,t){var n=Te(e,t);if(n.state>xn)throw new Error("too late; already running");return n}function Te(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function xc(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=ua(i,0,n.time);function i(s){n.state=Rr,n.timer.restart(a,n.delay,n.time),n.delay<=s&&a(s-n.delay)}function a(s){var c,h,f,p;if(n.state!==Rr)return u();for(c in o)if(p=o[c],p.name===n.name){if(p.state===xn)return Dr(a);p.state===Vr?(p.state=kn,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[c]):+c<t&&(p.state=kn,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[c])}if(Dr(function(){n.state===xn&&(n.state=Vr,n.timer.restart(l,n.delay,n.time),l(s))}),n.state=Po,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Po){for(n.state=xn,r=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++h]=p);r.length=h+1}}function l(s){for(var c=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(u),n.state=To,1),h=-1,f=r.length;++h<f;)r[h].call(e,c);n.state===To&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=kn,n.timer.stop(),delete o[t];for(var s in o)return;delete e.__transition}}function $n(e,t){var n=e.__transition,o,r,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){i=!1;continue}r=o.state>Po&&o.state<To,o.state=kn,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}i&&delete e.__transition}}function kc(e){return this.each(function(){$n(this,e)})}function $c(e,t){var n,o;return function(){var r=Ve(this,e),i=r.tween;if(i!==n){o=n=i;for(var a=0,l=o.length;a<l;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}r.tween=o}}function Ec(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var i=Ve(this,e),a=i.tween;if(a!==o){r=(o=a).slice();for(var l={name:t,value:n},u=0,s=r.length;u<s;++u)if(r[u].name===t){r[u]=l;break}u===s&&r.push(l)}i.tween=r}}function Sc(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Te(this.node(),n).tween,r=0,i=o.length,a;r<i;++r)if((a=o[r]).name===e)return a.value;return null}return this.each((t==null?$c:Ec)(n,e,t))}function er(e,t,n){var o=e._id;return e.each(function(){var r=Ve(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Te(r,o).value[t]}}function ca(e,t){var n;return(typeof t=="number"?Ke:t instanceof qt?Tr:(n=qt(t))?(t=n,Tr):lc)(e,t)}function Mc(e){return function(){this.removeAttribute(e)}}function Nc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Cc(e,t,n){var o,r=n+"",i;return function(){var a=this.getAttribute(e);return a===r?null:a===o?i:i=t(o=a,n)}}function zc(e,t,n){var o,r=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===o?i:i=t(o=a,n)}}function Ac(e,t,n){var o,r,i;return function(){var a,l=n(this),u;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=l+"",a===u?null:a===o&&u===r?i:(r=u,i=t(o=a,l)))}}function Pc(e,t,n){var o,r,i;return function(){var a,l=n(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=l+"",a===u?null:a===o&&u===r?i:(r=u,i=t(o=a,l)))}}function Tc(e,t){var n=Zn(e),o=n==="transform"?dc:ca;return this.attrTween(e,typeof t=="function"?(n.local?Pc:Ac)(n,o,er(this,"attr."+e,t)):t==null?(n.local?Nc:Mc)(n):(n.local?zc:Cc)(n,o,t))}function Oc(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Ic(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Bc(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&Ic(e,i)),n}return r._value=t,r}function Dc(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&Oc(e,i)),n}return r._value=t,r}function Rc(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Zn(e);return this.tween(n,(o.local?Bc:Dc)(o,t))}function Vc(e,t){return function(){Qo(this,e).delay=+t.apply(this,arguments)}}function Lc(e,t){return t=+t,function(){Qo(this,e).delay=t}}function Hc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Vc:Lc)(t,e)):Te(this.node(),t).delay}function jc(e,t){return function(){Ve(this,e).duration=+t.apply(this,arguments)}}function Xc(e,t){return t=+t,function(){Ve(this,e).duration=t}}function Yc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jc:Xc)(t,e)):Te(this.node(),t).duration}function Gc(e,t){if(typeof t!="function")throw new Error;return function(){Ve(this,e).ease=t}}function Fc(e){var t=this._id;return arguments.length?this.each(Gc(t,e)):Te(this.node(),t).ease}function Uc(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ve(this,e).ease=n}}function Wc(e){if(typeof e!="function")throw new Error;return this.each(Uc(this._id,e))}function Zc(e){typeof e!="function"&&(e=Hi(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,l=o[r]=[],u,s=0;s<a;++s)(u=i[s])&&e.call(u,u.__data__,s,i)&&l.push(u);return new We(o,this._parents,this._name,this._id)}function qc(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),a=new Array(o),l=0;l<i;++l)for(var u=t[l],s=n[l],c=u.length,h=a[l]=new Array(c),f,p=0;p<c;++p)(f=u[p]||s[p])&&(h[p]=f);for(;l<o;++l)a[l]=t[l];return new We(a,this._parents,this._name,this._id)}function Kc(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Jc(e,t,n){var o,r,i=Kc(t)?Qo:Ve;return function(){var a=i(this,e),l=a.on;l!==o&&(r=(o=l).copy()).on(t,n),a.on=r}}function Qc(e,t){var n=this._id;return arguments.length<2?Te(this.node(),n).on.on(e):this.each(Jc(n,e,t))}function ed(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function td(){return this.on("end.remove",ed(this._id))}function nd(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Zo(e));for(var o=this._groups,r=o.length,i=new Array(r),a=0;a<r;++a)for(var l=o[a],u=l.length,s=i[a]=new Array(u),c,h,f=0;f<u;++f)(c=l[f])&&(h=e.call(c,c.__data__,f,l))&&("__data__"in c&&(h.__data__=c.__data__),s[f]=h,Kn(s[f],t,n,f,s,Te(c,n)));return new We(i,this._parents,t,n)}function od(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Li(e));for(var o=this._groups,r=o.length,i=[],a=[],l=0;l<r;++l)for(var u=o[l],s=u.length,c,h=0;h<s;++h)if(c=u[h]){for(var f=e.call(c,c.__data__,h,u),p,g=Te(c,n),m=0,k=f.length;m<k;++m)(p=f[m])&&Kn(p,t,n,m,f,g);i.push(f),a.push(c)}return new We(i,a,t,n)}var rd=on.prototype.constructor;function id(){return new rd(this._groups,this._parents)}function ad(e,t){var n,o,r;return function(){var i=Ct(this,e),a=(this.style.removeProperty(e),Ct(this,e));return i===a?null:i===n&&a===o?r:r=t(n=i,o=a)}}function da(e){return function(){this.style.removeProperty(e)}}function ld(e,t,n){var o,r=n+"",i;return function(){var a=Ct(this,e);return a===r?null:a===o?i:i=t(o=a,n)}}function ud(e,t,n){var o,r,i;return function(){var a=Ct(this,e),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),Ct(this,e))),a===u?null:a===o&&u===r?i:(r=u,i=t(o=a,l))}}function sd(e,t){var n,o,r,i="style."+t,a="end."+i,l;return function(){var u=Ve(this,e),s=u.on,c=u.value[i]==null?l||(l=da(t)):void 0;(s!==n||r!==c)&&(o=(n=s).copy()).on(a,r=c),u.on=o}}function cd(e,t,n){var o=(e+="")=="transform"?cc:ca;return t==null?this.styleTween(e,ad(e,o)).on("end.style."+e,da(e)):typeof t=="function"?this.styleTween(e,ud(e,o,er(this,"style."+e,t))).each(sd(this._id,e)):this.styleTween(e,ld(e,o,t),n).on("end.style."+e,null)}function dd(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function hd(e,t,n){var o,r;function i(){var a=t.apply(this,arguments);return a!==r&&(o=(r=a)&&dd(e,a,n)),o}return i._value=t,i}function fd(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,hd(e,t,n??""))}function pd(e){return function(){this.textContent=e}}function vd(e){return function(){var t=e(this);this.textContent=t??""}}function gd(e){return this.tween("text",typeof e=="function"?vd(er(this,"text",e)):pd(e==null?"":e+""))}function md(e){return function(t){this.textContent=e.call(this,t)}}function yd(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&md(r)),t}return o._value=e,o}function wd(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,yd(e))}function _d(){for(var e=this._name,t=this._id,n=ha(),o=this._groups,r=o.length,i=0;i<r;++i)for(var a=o[i],l=a.length,u,s=0;s<l;++s)if(u=a[s]){var c=Te(u,t);Kn(u,e,n,s,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new We(o,this._parents,e,n)}function bd(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(i,a){var l={value:a},u={value:function(){--r===0&&i()}};n.each(function(){var s=Ve(this,o),c=s.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),s.on=t}),r===0&&i()})}var xd=0;function We(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function ha(){return++xd}var He=on.prototype;We.prototype={constructor:We,select:nd,selectAll:od,selectChild:He.selectChild,selectChildren:He.selectChildren,filter:Zc,merge:qc,selection:id,transition:_d,call:He.call,nodes:He.nodes,node:He.node,size:He.size,empty:He.empty,each:He.each,on:Qc,attr:Tc,attrTween:Rc,style:cd,styleTween:fd,text:gd,textTween:wd,remove:td,tween:Sc,delay:Hc,duration:Yc,ease:Fc,easeVarying:Wc,end:bd,[Symbol.iterator]:He[Symbol.iterator]};function kd(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var $d={time:null,delay:0,duration:250,ease:kd};function Ed(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Sd(e){var t,n;e instanceof We?(t=e._id,e=e._name):(t=ha(),(n=$d).time=Jo(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var a=o[i],l=a.length,u,s=0;s<l;++s)(u=a[s])&&Kn(u,e,t,s,a,n||Ed(u,t));return new We(o,this._parents,e,t)}on.prototype.interrupt=kc;on.prototype.transition=Sd;const hn=e=>()=>e;function Md(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function Ge(e,t,n){this.k=e,this.x=t,this.y=n}Ge.prototype={constructor:Ge,scale:function(e){return e===1?this:new Ge(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ge(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var At=new Ge(1,0,0);Ge.prototype;function ho(e){e.stopImmediatePropagation()}function Dt(e){e.preventDefault(),e.stopImmediatePropagation()}function Nd(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Cd(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Lr(){return this.__zoom||At}function zd(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Ad(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pd(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function Td(){var e=Nd,t=Cd,n=Pd,o=zd,r=Ad,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,u=vc,s=Wn("start","zoom","end"),c,h,f,p=500,g=150,m=0,k=10;function b(d){d.property("__zoom",Lr).on("wheel.zoom",Y,{passive:!1}).on("mousedown.zoom",V).on("dblclick.zoom",L).filter(r).on("touchstart.zoom",te).on("touchmove.zoom",J).on("touchend.zoom touchcancel.zoom",oe).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(d,$,v,_){var S=d.selection?d.selection():d;S.property("__zoom",Lr),d!==S?O(d,$,v,_):S.interrupt().each(function(){y(this,arguments).event(_).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},b.scaleBy=function(d,$,v,_){b.scaleTo(d,function(){var S=this.__zoom.k,E=typeof $=="function"?$.apply(this,arguments):$;return S*E},v,_)},b.scaleTo=function(d,$,v,_){b.transform(d,function(){var S=t.apply(this,arguments),E=this.__zoom,N=v==null?w(S):typeof v=="function"?v.apply(this,arguments):v,B=E.invert(N),A=typeof $=="function"?$.apply(this,arguments):$;return n(z(C(E,A),N,B),S,a)},v,_)},b.translateBy=function(d,$,v,_){b.transform(d,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof v=="function"?v.apply(this,arguments):v),t.apply(this,arguments),a)},null,_)},b.translateTo=function(d,$,v,_,S){b.transform(d,function(){var E=t.apply(this,arguments),N=this.__zoom,B=_==null?w(E):typeof _=="function"?_.apply(this,arguments):_;return n(At.translate(B[0],B[1]).scale(N.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof v=="function"?-v.apply(this,arguments):-v),E,a)},_,S)};function C(d,$){return $=Math.max(i[0],Math.min(i[1],$)),$===d.k?d:new Ge($,d.x,d.y)}function z(d,$,v){var _=$[0]-v[0]*d.k,S=$[1]-v[1]*d.k;return _===d.x&&S===d.y?d:new Ge(d.k,_,S)}function w(d){return[(+d[0][0]+ +d[1][0])/2,(+d[0][1]+ +d[1][1])/2]}function O(d,$,v,_){d.on("start.zoom",function(){y(this,arguments).event(_).start()}).on("interrupt.zoom end.zoom",function(){y(this,arguments).event(_).end()}).tween("zoom",function(){var S=this,E=arguments,N=y(S,E).event(_),B=t.apply(S,E),A=v==null?w(B):typeof v=="function"?v.apply(S,E):v,F=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),U=S.__zoom,I=typeof $=="function"?$.apply(S,E):$,G=u(U.invert(A).concat(F/U.k),I.invert(A).concat(F/I.k));return function(D){if(D===1)D=I;else{var W=G(D),le=F/W[2];D=new Ge(le,A[0]-W[0]*le,A[1]-W[1]*le)}N.zoom(null,D)}})}function y(d,$,v){return!v&&d.__zooming||new R(d,$)}function R(d,$){this.that=d,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(d,$),this.taps=0}R.prototype={event:function(d){return d&&(this.sourceEvent=d),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(d,$){return this.mouse&&d!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&d!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&d!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(d){var $=Ce(this.that).datum();s.call(d,this.that,new Md(d,{sourceEvent:this.sourceEvent,target:b,type:d,transform:this.that.__zoom,dispatch:s}),$)}};function Y(d,...$){if(!e.apply(this,arguments))return;var v=y(this,$).event(d),_=this.__zoom,S=Math.max(i[0],Math.min(i[1],_.k*Math.pow(2,o.apply(this,arguments)))),E=Ie(d);if(v.wheel)(v.mouse[0][0]!==E[0]||v.mouse[0][1]!==E[1])&&(v.mouse[1]=_.invert(v.mouse[0]=E)),clearTimeout(v.wheel);else{if(_.k===S)return;v.mouse=[E,_.invert(E)],$n(this),v.start()}Dt(d),v.wheel=setTimeout(N,g),v.zoom("mouse",n(z(C(_,S),v.mouse[0],v.mouse[1]),v.extent,a));function N(){v.wheel=null,v.end()}}function V(d,...$){if(f||!e.apply(this,arguments))return;var v=d.currentTarget,_=y(this,$,!0).event(d),S=Ce(d.view).on("mousemove.zoom",A,!0).on("mouseup.zoom",F,!0),E=Ie(d,v),N=d.clientX,B=d.clientY;Ki(d.view),ho(d),_.mouse=[E,this.__zoom.invert(E)],$n(this),_.start();function A(U){if(Dt(U),!_.moved){var I=U.clientX-N,G=U.clientY-B;_.moved=I*I+G*G>m}_.event(U).zoom("mouse",n(z(_.that.__zoom,_.mouse[0]=Ie(U,v),_.mouse[1]),_.extent,a))}function F(U){S.on("mousemove.zoom mouseup.zoom",null),Ji(U.view,_.moved),Dt(U),_.event(U).end()}}function L(d,...$){if(e.apply(this,arguments)){var v=this.__zoom,_=Ie(d.changedTouches?d.changedTouches[0]:d,this),S=v.invert(_),E=v.k*(d.shiftKey?.5:2),N=n(z(C(v,E),_,S),t.apply(this,$),a);Dt(d),l>0?Ce(this).transition().duration(l).call(O,N,_,d):Ce(this).call(b.transform,N,_,d)}}function te(d,...$){if(e.apply(this,arguments)){var v=d.touches,_=v.length,S=y(this,$,d.changedTouches.length===_).event(d),E,N,B,A;for(ho(d),N=0;N<_;++N)B=v[N],A=Ie(B,this),A=[A,this.__zoom.invert(A),B.identifier],S.touch0?!S.touch1&&S.touch0[2]!==A[2]&&(S.touch1=A,S.taps=0):(S.touch0=A,E=!0,S.taps=1+!!c);c&&(c=clearTimeout(c)),E&&(S.taps<2&&(h=A[0],c=setTimeout(function(){c=null},p)),$n(this),S.start())}}function J(d,...$){if(this.__zooming){var v=y(this,$).event(d),_=d.changedTouches,S=_.length,E,N,B,A;for(Dt(d),E=0;E<S;++E)N=_[E],B=Ie(N,this),v.touch0&&v.touch0[2]===N.identifier?v.touch0[0]=B:v.touch1&&v.touch1[2]===N.identifier&&(v.touch1[0]=B);if(N=v.that.__zoom,v.touch1){var F=v.touch0[0],U=v.touch0[1],I=v.touch1[0],G=v.touch1[1],D=(D=I[0]-F[0])*D+(D=I[1]-F[1])*D,W=(W=G[0]-U[0])*W+(W=G[1]-U[1])*W;N=C(N,Math.sqrt(D/W)),B=[(F[0]+I[0])/2,(F[1]+I[1])/2],A=[(U[0]+G[0])/2,(U[1]+G[1])/2]}else if(v.touch0)B=v.touch0[0],A=v.touch0[1];else return;v.zoom("touch",n(z(N,B,A),v.extent,a))}}function oe(d,...$){if(this.__zooming){var v=y(this,$).event(d),_=d.changedTouches,S=_.length,E,N;for(ho(d),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),E=0;E<S;++E)N=_[E],v.touch0&&v.touch0[2]===N.identifier?delete v.touch0:v.touch1&&v.touch1[2]===N.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(N=Ie(N,this),Math.hypot(h[0]-N[0],h[1]-N[1])<k)){var B=Ce(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return b.wheelDelta=function(d){return arguments.length?(o=typeof d=="function"?d:hn(+d),b):o},b.filter=function(d){return arguments.length?(e=typeof d=="function"?d:hn(!!d),b):e},b.touchable=function(d){return arguments.length?(r=typeof d=="function"?d:hn(!!d),b):r},b.extent=function(d){return arguments.length?(t=typeof d=="function"?d:hn([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),b):t},b.scaleExtent=function(d){return arguments.length?(i[0]=+d[0],i[1]=+d[1],b):[i[0],i[1]]},b.translateExtent=function(d){return arguments.length?(a[0][0]=+d[0][0],a[1][0]=+d[1][0],a[0][1]=+d[0][1],a[1][1]=+d[1][1],b):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},b.constrain=function(d){return arguments.length?(n=d,b):n},b.duration=function(d){return arguments.length?(l=+d,b):l},b.interpolate=function(d){return arguments.length?(u=d,b):u},b.on=function(){var d=s.on.apply(s,arguments);return d===s?b:d},b.clickDistance=function(d){return arguments.length?(m=(d=+d)*d,b):Math.sqrt(m)},b.tapDistance=function(d){return arguments.length?(k=+d,b):k},b}var ne=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(ne||{}),tr=(e=>(e.Partial="partial",e.Full="full",e))(tr||{}),yt=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(yt||{}),ht=(e=>(e.Strict="strict",e.Loose="loose",e))(ht||{}),Dn=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Dn||{}),Rn=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Rn||{});const fa="vue-flow__node-desc",pa="vue-flow__edge-desc",Od="vue-flow__aria-live",va=["Enter"," ","Escape"],$t={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Hr(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function Oo(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function Jn(e){return{width:e.offsetWidth,height:e.offsetHeight}}function ft(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function ga(e,t){return{x:ft(e.x,t[0][0],t[1][0]),y:ft(e.y,t[0][1],t[1][1])}}function jr(e){const t=e.getRootNode(),n=lr();return"elementFromPoint"in t?t:n.document}function Pt(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Id(e){return Pt(e)&&"sourceNode"in e&&"targetNode"in e}function Et(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!Pt(e)}function wt(e){return Et(e)&&"computedPosition"in e}function Bd(e){return!!e.width&&!!e.height&&!!e.x&&!!e.y}function Dd(e,t={}){let n=t;return wt(e)||(n={type:e.type??t.type??"default",dimensions:_t({width:0,height:0}),handleBounds:{source:[],target:[]},computedPosition:_t({z:0,...e.position}),draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,...t,data:pe(e.data)?e.data:{},events:_t(pe(e.events)?e.events:{})}),Object.assign({},n,e,{id:e.id.toString()})}function ma(e,t={}){const n=pe(e.events)?e.events:t.events&&pe(t.events)?t.events:{},o=pe(e.data)?e.data:t.data&&pe(t.data)?t.data:{};return t=Id(e)?t:{...t,sourceHandle:(e.sourceHandle?e.sourceHandle.toString():void 0)||t.sourceHandle,targetHandle:(e.targetHandle?e.targetHandle.toString():void 0)||t.targetHandle,type:e.type??t.type??"default",source:e.source.toString()||t.source,target:e.target.toString()||t.target,updatable:e.updatable??t.updatable,selectable:e.selectable??t.selectable,focusable:e.focusable??t.focusable,data:o,events:_t(n),label:(e.label&&!et(e.label)?_t(e.label):e.label)||t.label,interactionWidth:e.interactionWidth||t.interactionWidth},Object.assign({},t,e,{id:e.id.toString()})}function ya({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t??""}-${n}${o??""}`}function Rd(e,t){return t.some(n=>Pt(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Vd({x:e,y:t},{x:n,y:o,zoom:r}){return{x:e*r+n,y:t*r+o}}function wa({x:e,y:t},{x:n,y:o,zoom:r},i,[a,l]){const u={x:(e-n)/r,y:(t-o)/r};return i?{x:a*Math.round(u.x/a),y:l*Math.round(u.y/l)}:u}function _a(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function Vn({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function ba({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function Ld(e,t){return ba(_a(Vn(e),Vn(t)))}function nr(e){const t=e.reduce((n,{computedPosition:o={x:0,y:0},dimensions:r={width:0,height:0}}={})=>_a(n,Vn({...o,...r})),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ba(t)}function xa(e,t,{x:n,y:o,zoom:r}={x:0,y:0,zoom:1},i=!1,a=!1){const l={x:(t.x-n)/r,y:(t.y-o)/r,width:t.width/r,height:t.height/r};return e.filter(u=>{const{computedPosition:s={x:0,y:0},dimensions:c={width:0,height:0},selectable:h}=u;if(a&&!h)return!1;const f={...s,width:c.width||0,height:c.height||0},p=Oo(l,f),g=typeof c.width>"u"||typeof c.height>"u"||c.width===0||c.height===0,m=i&&p>0,k=c.width*c.height;return g||m||p>=k})}function Ye(e,t){const n=e.map(o=>et(o)?o:o.id);return t.filter(o=>n.includes(o.source)||n.includes(o.target))}function Xr(e,t,n,o,r,i=.1,a={x:0,y:0}){const l=t/(e.width*(1+i)),u=n/(e.height*(1+i)),s=Math.min(l,u),c=ft(s,o,r),h=e.x+e.width/2,f=e.y+e.height/2,p=t/2-h*c+(a.x??0),g=n/2-f*c+(a.y??0);return{x:p,y:g,zoom:c}}function Hd(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function ka(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:ka(n,t):!1}function rt(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`}function Yr(e,t,n){return e<t?ft(Math.abs(e-t),1,50)/50:e>n?-ft(Math.abs(e-n),1,50)/50:0}function $a(e,t){const n=Yr(e.x,35,t.width-35)*20,o=Yr(e.y,35,t.height-35)*20;return[n,o]}function fo(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||o>0||e.position.x<0||e.position.y<0){let r={};if(Tt(t.style)?r={...t.style(t)}:t.style&&(r={...t.style}),r.width=r.width??`${t.dimensions.width}px`,r.height=r.height??`${t.dimensions.height}px`,n>0)if(et(r.width)){const i=Number(r.width.replace("px",""));r.width=`${i+n}px`}else r.width+=n;if(o>0)if(et(r.height)){const i=Number(r.height.replace("px",""));r.height=`${i+o}px`}else r.height+=o;if(e.position.x<0){const i=Math.abs(e.position.x);if(t.position.x=t.position.x-i,et(r.width)){const a=Number(r.width.replace("px",""));r.width=`${a+i}px`}else r.width+=i;e.position.x=0}if(e.position.y<0){const i=Math.abs(e.position.y);if(t.position.y=t.position.y-i,et(r.height)){const a=Number(r.height.replace("px",""));r.height=`${a+i}px`}else r.height+=i;e.position.y=0}t.dimensions.width=Number(r.width.toString().replace("px","")),t.dimensions.height=Number(r.height.toString().replace("px","")),Tt(t.style)?t.style=i=>{const a=t.style;return{...a(i),...r}}:t.style={...t.style,...r}}}}function Gr(e,t){e.filter(o=>o.type==="add"||o.type==="remove").forEach(o=>{if(o.type==="add")t.findIndex(r=>r.id===o.item.id)===-1&&t.push(o.item);else if(o.type==="remove"){const r=t.findIndex(i=>i.id===o.id);r!==-1&&t.splice(r,1)}});const n=t.map(o=>o.id);return t.forEach(o=>{var r,i;const a=e.filter(l=>l.id===o.id);for(const l of a)switch(l.type){case"select":o.selected=l.selected;break;case"position":if(wt(o)&&(typeof l.position<"u"&&(o.position=l.position),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&o.parentNode)){const u=t[n.indexOf(o.parentNode)];u&&wt(u)&&fo(o,u)}break;case"dimensions":if(wt(o)){if(typeof l.dimensions<"u"&&(o.dimensions=l.dimensions),typeof l.updateStyle<"u"&&(o.style={...o.style||{},width:`${(r=l.dimensions)==null?void 0:r.width}px`,height:`${(i=l.dimensions)==null?void 0:i.height}px`}),typeof l.resizing<"u"&&(o.resizing=l.resizing),o.expandParent&&o.parentNode){const u=t[n.indexOf(o.parentNode)];u&&wt(u)&&(u.initialized?fo(o,u):bt(()=>{fo(o,u)}))}o.initialized||(o.initialized=!0)}break}}),t}function Xe(e,t){return{id:e,type:"select",selected:t}}function Fr(e){return{item:e,type:"add"}}function po(e){return{id:e,type:"remove"}}function vo(e,t){return e.reduce((n,o)=>{let r=t.includes(o.id);pe(o.selectable)&&!o.selectable&&(r=!1);const i=wt(o)?"changedNodes":"changedEdges";return!o.selected&&r?n[i].push(Xe(o.id,!0)):o.selected&&!r&&n[i].push(Xe(o.id,!1)),n},{changedNodes:[],changedEdges:[]})}function Z(e=()=>{}){const t=se(new Set);e&&t.value.add(e);const n=o=>{t.value.delete(o)};return{on:o=>{t.value.has(e)&&t.value.delete(e),t.value.add(o);const r=()=>n(o);return nn(r),{off:r}},off:n,trigger:o=>Promise.all(Array.from(t.value).map(r=>r(o))),fns:t}}function Ur(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function jd(e,t,n,o,r){return e.filter(i=>(i.selected||i.id===r)&&(!i.parentNode||!ka(i,o))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var a,l;return _t({id:i.id,position:i.position||{x:0,y:0},distance:{x:n.x-((a=i.computedPosition)==null?void 0:a.x)||0,y:n.y-((l=i.computedPosition)==null?void 0:l.y)||0},from:i.computedPosition,extent:i.extent,parentNode:i.parentNode,dimensions:i.dimensions})})}function go({id:e,dragItems:t,findNode:n}){const o=t.reduce((r,i)=>{const a=n(i.id);return a&&r.push(a),r},[]);return[e?o.find(r=>r.id===e):o[0],o]}function Ea(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function Xd(e,t,n){const[o,r,i,a]=typeof e!="string"?Ea(e.padding):[0,0,0,0];return n&&Fe(n.computedPosition.x)&&Fe(n.computedPosition.y)&&Fe(n.dimensions.width)&&Fe(n.dimensions.height)?[[n.computedPosition.x+a,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-r,n.computedPosition.y+n.dimensions.height-i]]:!1}function Yd(e,t,n,o){let r=e.extent||n;if(r==="parent"||!Array.isArray(r)&&(r==null?void 0:r.range)==="parent")if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const i=Xd(r,e,o);i&&(r=i)}else t(new be(we.NODE_EXTENT_INVALID,e.id)),r=n;else if(Array.isArray(r)){const i=(o==null?void 0:o.computedPosition.x)||0,a=(o==null?void 0:o.computedPosition.y)||0;r=[[r[0][0]+i,r[0][1]+a],[r[1][0]+i,r[1][1]+a]]}else if(r!=null&&r.range&&Array.isArray(r.range)){const[i,a,l,u]=Ea(r.padding),s=(o==null?void 0:o.computedPosition.x)||0,c=(o==null?void 0:o.computedPosition.y)||0;r=[[r.range[0][0]+s+u,r.range[0][1]+c+i],[r.range[1][0]+s-a,r.range[1][1]+c-l]]}return r}function Gd({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function or(e,t,n,o,r){const i=Gd(e.dimensions,Yd(e,n,o,r)),a=ga(t,i);return{position:{x:a.x-((r==null?void 0:r.computedPosition.x)||0),y:a.y-((r==null?void 0:r.computedPosition.y)||0)},computedPosition:a}}function Wr(e,t,n){const o=((n==null?void 0:n.x)??0)+t.x,r=((n==null?void 0:n.y)??0)+t.y,i=(n==null?void 0:n.width)??t.width,a=(n==null?void 0:n.height)??t.height;switch(e){case ne.Top:return{x:o+i/2,y:r};case ne.Right:return{x:o+i,y:r+a/2};case ne.Bottom:return{x:o+i/2,y:r+a};case ne.Left:return{x:o,y:r+a/2}}}function Zr(e=[],t){return e.length?!t||e.length===1?e[0]:t&&e.find(n=>n.id===t)||null:null}function Fd(e,t,n,o,r,i){const a=Wr(n,{...e.dimensions,...e.computedPosition},t),l=Wr(i,{...o.dimensions,...o.computedPosition},r);return{sourceX:a.x,sourceY:a.y,targetX:l.x,targetY:l.y}}function Ud({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:r,targetHeight:i,width:a,height:l,viewport:u}){const s={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+o,t.y+i)};s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const c=Vn({x:(0-u.x)/u.zoom,y:(0-u.y)/u.zoom,width:a/u.zoom,height:l/u.zoom}),h=Math.max(0,Math.min(c.x2,s.x2)-Math.max(c.x,s.x)),f=Math.max(0,Math.min(c.y2,s.y2)-Math.max(c.y,s.y));return Math.ceil(h*f)>0}function Wd(e,t,n=!1){const o=Fe(e.zIndex);let r=o?e.zIndex:0;const i=t(e.source),a=t(e.target);return!i||!a?0:(n&&(r=o?e.zIndex:Math.max(i.computedPosition.z||0,a.computedPosition.z||0)),r)}var we=(e=>(e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e))(we||{});const qr={MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`};let be=class extends Error{constructor(t,...n){var o;super((o=qr[t])==null?void 0:o.call(qr,...n)),this.code=t}};function rr(e){return"clientX"in e}function lt(e,t){var n,o;const r=rr(e),i=r?e.clientX:(n=e.touches)==null?void 0:n[0].clientX,a=r?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:i-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}}function et(e){return typeof e=="string"}function Tt(e){return typeof e=="function"}function Zd(e){return typeof e=="boolean"}function Fe(e){return typeof e=="number"}function Sa(){return{handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null}}function mo(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function Kr(e,t,n,o){return(t[n]||[]).reduce((r,i)=>{var a,l;return`${e.id}-${i.id}-${n}`!==o&&r.push({id:i.id||null,type:n,nodeId:e.id,x:(((a=e.computedPosition)==null?void 0:a.x)??0)+i.x+i.width/2,y:(((l=e.computedPosition)==null?void 0:l.y)??0)+i.y+i.height/2,width:i.width,height:i.height}),r},[])}function qd(e,t,n,o,r,i){const{x:a,y:l}=lt(e),u=t.elementsFromPoint(a,l).find(p=>p.classList.contains("vue-flow__handle"));if(u){const p=u.getAttribute("data-nodeid");if(p){const g=ir(void 0,u),m=u.getAttribute("data-handleid"),k=i({nodeId:p,id:m,type:g});if(k)return{handle:{id:m,type:g,nodeId:p,x:n.x,y:n.y},validHandleResult:k}}}let s=[],c=1/0;if(r.forEach(p=>{const g=Math.sqrt((p.x-n.x)**2+(p.y-n.y)**2);if(g<=o){const m=i(p);g<=c&&(g<c?s=[{handle:p,validHandleResult:m}]:g===c&&s.push({handle:p,validHandleResult:m}),c=g)}}),!s.length)return{handle:null,validHandleResult:Sa()};if(s.length===1)return s[0];const h=s.some(({validHandleResult:p})=>p.isValid),f=s.some(({handle:p})=>p.type==="target");return s.find(({handle:p,validHandleResult:g})=>f?p.type==="target":h?g.isValid:!0)||s[0]}function Jr(e,t,n,o,r,i,a,l,u,s){const c=i==="target",h=l.querySelector(`.vue-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:f,y:p}=lt(e),g=l.elementFromPoint(f,p),m=g!=null&&g.classList.contains("vue-flow__handle")?g:h,k=Sa();if(m){k.handleDomNode=m;const b=ir(void 0,m),C=m.getAttribute("data-nodeid"),z=m.getAttribute("data-handleid"),w=m.classList.contains("connectable"),O=m.classList.contains("connectableend"),y={source:c?C:o,sourceHandle:c?z:r,target:c?o:C,targetHandle:c?r:z};k.connection=y;const R=w&&O&&(n===ht.Strict?c&&b==="source"||!c&&b==="target":C!==o||z!==r);k.endHandle={nodeId:C,handleId:z,type:b},R&&(k.isValid=a(y,{edges:u,sourceNode:s(y.source),targetNode:s(y.target)}))}return k}function Kd({nodes:e,nodeId:t,handleId:n,handleType:o}){return e.reduce((r,i)=>{const{handleBounds:a}=i;let l=[],u=[];return a&&(l=Kr(i,a,"source",`${t}-${n}-${o}`),u=Kr(i,a,"target",`${t}-${n}-${o}`)),r.push(...l,...u),r},[])}function ir(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Jd(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}const Qd=["production","prod"];function Ma(e,...t){Qd.includes("production")||console.warn(`[Vue Flow]: ${e}`,...t)}function Qr(e,t,n){const o=t.querySelectorAll(`.vue-flow__handle${e}`);if(!o||!o.length)return;const r=Array.from(o),i=t.getBoundingClientRect();return r.map(a=>{const l=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(l.left-i.left)/n,y:(l.top-i.top)/n,...Jn(a)}})}function Io(e,t,n,o,r,i=!1,a){r.value=!1,e.selected?(i||e.selected&&t)&&(o([e]),bt(a.blur)):n([e])}function pe(e){return typeof P(e)<"u"}function eh(e,t,n){if(!e.source||!e.target)return n(new be(we.EDGE_INVALID,e.id)),!1;let o;return Pt(e)?o=e:o={...e,id:ya(e)},o=ma(o),Rd(o,t)?!1:o}function th(e,t,n,o,r,i){if(!t.source||!t.target)return i(new be(we.EDGE_INVALID,e.id)),!1;const a=o(e.id);if(!a)return i(new be(we.EDGE_NOT_FOUND,e.id)),!1;const{id:l,...u}=e,s={...u,id:r?ya(t):l,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle};return n.splice(n.indexOf(a),1,s),s}function ei(e,t,n,o){const r={},i=e.reduce((l,u)=>{if(!Et(u))return o(new be(we.NODE_INVALID)),l;const s=Dd(u,{...n(u.id),parentNode:u.parentNode});return u.parentNode&&(r[u.parentNode]=!0),l.concat(s)},[]),a=[...i,...t];for(const l of i){const u=a.find(s=>s.id===l.parentNode);l.parentNode&&!u&&o(new be(we.NODE_MISSING_PARENT,l.id,l.parentNode)),(l.parentNode||r[l.id])&&(r[l.id]&&(l.isParent=!0),u&&(u.isParent=!0))}return i}function Na(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:r,nodes:i,nodeExtent:a,viewport:l,autoPanOnNodeDrag:u,nodesDraggable:s,panBy:c,findNode:h,multiSelectionActive:f,nodesSelectionActive:p,selectNodesOnDrag:g,removeSelectedElements:m,addSelectedNodes:k,updateNodePositions:b,emits:C}=ve(),{onStart:z,onDrag:w,onStop:O,el:y,disabled:R,id:Y,selectable:V,dragHandle:L}=e,te=se(!1);let J=[],oe,d=null,$={x:void 0,y:void 0},v={x:0,y:0},_=null,S=0,E=!1;const N=ef(),B=({x:F,y:U})=>{$={x:F,y:U};let I=!1;if(J=J.map(G=>{const D={x:F-G.distance.x,y:U-G.distance.y};n.value&&(D.x=o.value[0]*Math.round(D.x/o.value[0]),D.y=o.value[1]*Math.round(D.y/o.value[1]));const{computedPosition:W}=or(G,D,C.error,a.value,G.parentNode?h(G.parentNode):void 0);return I=I||G.position.x!==W.x||G.position.y!==W.y,G.position=W,G}),!!I&&(b(J,!0,!0),te.value=!0,_)){const[G,D]=go({id:Y,dragItems:J,findNode:h});w({event:_,node:G,nodes:D})}},A=()=>{if(!d)return;const[F,U]=$a(v,d);if(F!==0||U!==0){const I={x:($.x??0)-F/l.value.zoom,y:($.y??0)-U/l.value.zoom};c({x:F,y:U})&&B(I)}S=requestAnimationFrame(A)};return ge([()=>ue(R),y],([F,U])=>{if(U){const I=Ce(U);F?I.on(".drag",null):(oe=Xs().on("start",G=>{var D;const W=h(Y);!g.value&&!f.value&&W&&(W.selected||m()),W&&ue(V)&&g.value&&Io(W,f.value,k,m,p,!1,U);const le=N(G);if($=le,J=jd(i.value,s.value,le,h,Y),J.length){const[x,M]=go({id:Y,dragItems:J,findNode:h});z({event:G.sourceEvent,node:x,nodes:M})}d=((D=t.value)==null?void 0:D.getBoundingClientRect())||null,v=lt(G.sourceEvent,d)}).on("drag",G=>{const D=N(G);!E&&u.value&&(E=!0,A()),($.x!==D.xSnapped||$.y!==D.ySnapped)&&J.length&&(_=G.sourceEvent,v=lt(G.sourceEvent,d),B(D))}).on("end",G=>{if(te.value=!1,E=!1,cancelAnimationFrame(S),J.length){b(J,!1,!1);const[D,W]=go({id:Y,dragItems:J,findNode:h});O({event:G.sourceEvent,node:D,nodes:W})}}).filter(G=>{const D=G.target,W=ue(L);return!G.button&&(!r.value||!Ur(D,`.${r.value}`,U)&&(!W||Ur(D,W,U)))}),I.call(oe))}}),te}function nh(){return{edgesChange:Z(),nodesChange:Z(),nodeDoubleClick:Z(),nodeClick:Z(),nodeMouseEnter:Z(),nodeMouseMove:Z(),nodeMouseLeave:Z(),nodeContextMenu:Z(),nodeDragStart:Z(),nodeDrag:Z(),nodeDragStop:Z(),nodesInitialized:Z(),miniMapNodeClick:Z(),miniMapNodeDoubleClick:Z(),miniMapNodeMouseEnter:Z(),miniMapNodeMouseMove:Z(),miniMapNodeMouseLeave:Z(),connect:Z(),connectStart:Z(),connectEnd:Z(),clickConnectStart:Z(),clickConnectEnd:Z(),paneReady:Z(),move:Z(),moveStart:Z(),moveEnd:Z(),selectionDragStart:Z(),selectionDrag:Z(),selectionDragStop:Z(),selectionContextMenu:Z(),selectionStart:Z(),selectionEnd:Z(),viewportChangeStart:Z(),viewportChange:Z(),viewportChangeEnd:Z(),paneScroll:Z(),paneClick:Z(),paneContextMenu:Z(),paneMouseEnter:Z(),paneMouseMove:Z(),paneMouseLeave:Z(),edgeContextMenu:Z(),edgeMouseEnter:Z(),edgeMouseMove:Z(),edgeMouseLeave:Z(),edgeDoubleClick:Z(),edgeClick:Z(),edgeUpdateStart:Z(),edgeUpdate:Z(),edgeUpdateEnd:Z(),updateNodeInternals:Z(),error:Z(e=>Ma(e.message))}}function oh(e,t){wl(()=>{for(const[n,o]of Object.entries(t.value)){const r=i=>{e(n,i)};o.on(r),nn(()=>{o.off(r)})}})}function Ca(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}const rh=["data-id","data-handleid","data-nodeid","data-handlepos"],ih={name:"Handle",compatConfig:{MODE:3}},Ln=ce({...ih,props:{id:null,type:null,position:{default:ne.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e){const t=Ca(e,["position","connectable","connectableStart","connectableEnd","id"]),n=$o(t,"type","source"),o=$o(t,"isValidConnection",void 0),{connectionStartHandle:r,connectionClickStartHandle:i,connectionEndHandle:a,vueFlowRef:l,nodesConnectable:u,noDragClassName:s,noPanClassName:c}=ve(),{id:h,node:f,nodeEl:p,connectedEdges:g}=of(),m=se(),k=ee(()=>e.id??`${h}__handle-${e.position}`),b=ee(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),C=ee(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),{handlePointerDown:z,handleClick:w}=Ra({nodeId:h,handleId:k,isValidConnection:o,type:n}),O=ee(()=>et(e.connectable)&&e.connectable==="single"?!g.value.some(L=>{const te=L[`${n.value}Handle`];return L[n.value]!==h?!1:te?te===k.value:!0}):Tt(e.connectable)?e.connectable(f,g.value):pe(e.connectable)?e.connectable:u.value),y=ee(()=>{var L,te,J,oe,d,$;return((L=r.value)==null?void 0:L.nodeId)===h&&((te=r.value)==null?void 0:te.handleId)===k.value&&((J=r.value)==null?void 0:J.type)===n.value||((oe=a.value)==null?void 0:oe.nodeId)===h&&((d=a.value)==null?void 0:d.handleId)===k.value&&(($=a.value)==null?void 0:$.type)===n.value}),R=ee(()=>{var L,te,J;return((L=i.value)==null?void 0:L.nodeId)===h&&((te=i.value)==null?void 0:te.handleId)===k.value&&((J=i.value)==null?void 0:J.type)===n.value});Nt(()=>f.initialized).toBe(!0,{flush:"post"}).then(()=>{var L;const te=(L=f.handleBounds[n.value])==null?void 0:L.find(S=>S.id===k.value);if(!l.value||te)return;const J=l.value.querySelector(".vue-flow__transformationpane");if(!p.value||!m.value||!J||!k.value)return;const oe=p.value.getBoundingClientRect(),d=m.value.getBoundingClientRect(),$=window.getComputedStyle(J),{m22:v}=new window.DOMMatrixReadOnly($.transform),_={id:k.value,position:e.position,x:(d.left-oe.left)/v,y:(d.top-oe.top)/v,...Jn(m.value)};f.handleBounds[n.value]=[...f.handleBounds[n.value]??[],_]});function Y(L){const te=rr(L);O.value&&b.value&&(te&&L.button===0||!te)&&z(L)}function V(L){!h||!i.value&&!b.value||O.value&&w(L)}return(L,te)=>(K(),ae("div",{ref_key:"handle",ref:m,"data-id":`${P(h)}-${P(k)}-${P(n)}`,"data-handleid":P(k),"data-nodeid":P(h),"data-handlepos":e.position,class:Re(["vue-flow__handle",[`vue-flow__handle-${e.position}`,`vue-flow__handle-${P(k)}`,P(s),P(c),P(n),{connectable:P(O),connecting:P(R),connectablestart:P(b),connectableend:P(C),connectionindicator:P(O)&&(P(b)&&!P(y)||P(C)&&P(y))}]]),onMousedown:Y,onTouchstartPassive:Y,onClick:V},[fe(L.$slots,"default",{id:e.id})],42,rh))}}),Qn=function({sourcePosition:e=ne.Bottom,targetPosition:t=ne.Top,label:n,connectable:o=!0,isValidTargetPos:r,isValidSourcePos:i}){return[he(Ln,{type:"target",position:t,connectable:o,isValidConnection:r}),typeof n!="string"&&n?he(n):he("div",{innerHTML:n}),he(Ln,{type:"source",position:e,connectable:o,isValidConnection:i})]};Qn.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable"];Qn.inheritAttrs=!1;Qn.compatConfig={MODE:3};const ah=Qn,eo=function({sourcePosition:e=ne.Bottom,label:t,connectable:n=!0,isValidSourcePos:o}){return[typeof t!="string"&&t?he(t):he("div",{innerHTML:t}),he(Ln,{type:"source",position:e,connectable:n,isValidConnection:o})]};eo.props=["sourcePosition","label","isValidSourcePos","connectable"];eo.inheritAttrs=!1;eo.compatConfig={MODE:3};const lh=eo,to=function({targetPosition:e=ne.Top,label:t,connectable:n=!0,isValidTargetPos:o}){return[he(Ln,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof t!="string"&&t?he(t):he("div",{innerHTML:t})]};to.props=["targetPosition","label","isValidTargetPos","connectable"];to.inheritAttrs=!1;to.compatConfig={MODE:3};const uh=to,ti=Symbol("vueFlow"),za=Symbol("nodeId"),Aa=Symbol("nodeRef"),sh=Symbol("edgeId"),ch=Symbol("edgeRef"),no=Symbol("slots"),dh=ce({name:"Node",compatConfig:{MODE:3},props:["name","type","id","draggable","selectable","focusable","connectable","node","resizeObserver"],setup(e){ct(za,e.id);const{id:t,edges:n,noPanClassName:o,selectNodesOnDrag:r,nodesSelectionActive:i,multiSelectionActive:a,emits:l,findNode:u,removeSelectedNodes:s,addSelectedNodes:c,updateNodeDimensions:h,onUpdateNodeInternals:f,getIntersectingNodes:p,getNodeTypes:g,nodeExtent:m,elevateNodesOnSelect:k,disableKeyboardA11y:b,ariaLiveMessage:C,snapToGrid:z,snapGrid:w}=ve(),O=Va(),y=Gt(e,"node"),R=ee(()=>u(y.value.parentNode)),Y=ee(()=>Ye([y.value],n.value)),V=se(null);ct(Aa,V);const{emit:L,on:te}=af(y.value,l),J=Na({id:e.id,el:V,disabled:()=>!e.draggable,selectable:()=>e.selectable,dragHandle:()=>y.value.dragHandle,onStart(I){L.dragStart({...I,intersections:p(y.value)})},onDrag(I){L.drag({...I,intersections:p(y.value)})},onStop(I){L.dragStop({...I,intersections:p(y.value)})}}),oe=ee(()=>y.value.class instanceof Function?y.value.class(y.value):y.value.class),d=ee(()=>{const I=(y.value.style instanceof Function?y.value.style(y.value):y.value.style)||{},G=y.value.width instanceof Function?y.value.width(y.value):y.value.width,D=y.value.height instanceof Function?y.value.height(y.value):y.value.height;return G&&(I.width=typeof G=="string"?G:`${G}px`),D&&(I.height=typeof D=="string"?D:`${D}px`),I}),$=()=>Number(y.value.zIndex??d.value.zIndex??0);return f(I=>{I.includes(e.id)&&_()}),tt(()=>{e.resizeObserver.observe(V.value)}),Pi(()=>{e.resizeObserver.unobserve(V.value)}),ge([()=>y.value.type,()=>y.value.sourcePosition,()=>y.value.targetPosition],()=>{h([{id:e.id,nodeElement:V.value,forceUpdate:!0}])},{flush:"pre"}),ge([()=>y.value.position.x,()=>y.value.position.y,()=>{var I;return(I=R.value)==null?void 0:I.computedPosition.x},()=>{var I;return(I=R.value)==null?void 0:I.computedPosition.y},()=>{var I;return(I=R.value)==null?void 0:I.computedPosition.z},()=>$(),()=>y.value.selected,()=>y.value.dimensions.height,()=>y.value.dimensions.width,()=>{var I;return(I=R.value)==null?void 0:I.dimensions.height},()=>{var I;return(I=R.value)==null?void 0:I.dimensions.width}],([I,G,D,W,le,x])=>{const M={x:I,y:G,z:x+(k.value&&y.value.selected?1e3:0)};Fe(D)&&Fe(W)?y.value.computedPosition=Hd({x:D,y:W,z:le},M):y.value.computedPosition=M},{flush:"post",immediate:!0}),ge([()=>y.value.extent,m],([I,G],[D,W])=>{(I!==D||G!==W)&&v()}),y.value.extent==="parent"||typeof y.value.extent=="object"&&"range"in y.value.extent&&y.value.extent.range==="parent"?Nt(()=>y.value.initialized).toBe(!0).then(v):v(),()=>he("div",{ref:V,"data-id":y.value.id,class:["vue-flow__node",`vue-flow__node-${e.type===!1?"default":e.name}`,{[o.value]:e.draggable,dragging:J==null?void 0:J.value,selected:y.value.selected,selectable:e.selectable,parent:y.value.isParent},oe.value],style:{zIndex:y.value.computedPosition.z??$(),transform:`translate(${y.value.computedPosition.x}px,${y.value.computedPosition.y}px)`,pointerEvents:e.selectable||e.draggable?"all":"none",visibility:y.value.initialized?"visible":"hidden",...d.value},tabIndex:e.focusable?0:void 0,role:e.focusable?"button":void 0,"aria-describedby":b.value?void 0:`${fa}-${t}`,"aria-label":y.value.ariaLabel,onMouseenter:S,onMousemove:E,onMouseleave:N,onContextmenu:B,onClick:F,onDblclick:A,onKeydown:U},[he(e.type===!1?g.value.default:e.type,{id:y.value.id,type:y.value.type,data:y.value.data,events:{...y.value.events,...te},selected:!!y.value.selected,resizing:!!y.value.resizing,dragging:J.value,connectable:e.connectable,position:y.value.position,dimensions:y.value.dimensions,isValidTargetPos:y.value.isValidTargetPos,isValidSourcePos:y.value.isValidSourcePos,parent:y.value.parentNode,zIndex:y.value.computedPosition.z,targetPosition:y.value.targetPosition,sourcePosition:y.value.sourcePosition,label:y.value.label,dragHandle:y.value.dragHandle,onUpdateNodeInternals:_})]);function v(){const I=y.value.computedPosition;z.value&&(I.x=w.value[0]*Math.round(I.x/w.value[0]),I.y=w.value[1]*Math.round(I.y/w.value[1]));const{computedPosition:G,position:D}=or(y.value,I,l.error,m.value,R.value);(y.value.computedPosition.x!==G.x||y.value.computedPosition.y!==G.y)&&(y.value.computedPosition={...y.value.computedPosition,...G}),(y.value.position.x!==D.x||y.value.position.y!==D.y)&&(y.value.position=D)}function _(){V.value&&h([{id:e.id,nodeElement:V.value,forceUpdate:!0}])}function S(I){J!=null&&J.value||L.mouseEnter({event:I,node:y.value,connectedEdges:Y.value})}function E(I){J!=null&&J.value||L.mouseMove({event:I,node:y.value,connectedEdges:Y.value})}function N(I){J!=null&&J.value||L.mouseLeave({event:I,node:y.value,connectedEdges:Y.value})}function B(I){return L.contextMenu({event:I,node:y.value,connectedEdges:Y.value})}function A(I){return L.doubleClick({event:I,node:y.value,connectedEdges:Y.value})}function F(I){e.selectable&&(!r.value||!e.draggable)&&Io(y.value,a.value,c,s,i,!1,V.value),L.click({event:I,node:y.value,connectedEdges:Y.value})}function U(I){if(!Do(I))if(va.includes(I.key)&&e.selectable){const G=I.key==="Escape";Io(y.value,a.value,c,s,i,G,V.value)}else!b.value&&e.draggable&&y.value.selected&&$t[I.key]&&(C.value=`Moved selected node ${I.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~y.value.position.x}, y: ${~~y.value.position.y}`,O({x:$t[I.key].x,y:$t[I.key].y},I.shiftKey))}}}),hh=dh,fh=["transform"],ph=["width","height","x","y","rx","ry"],vh=["y"],gh={name:"EdgeText",compatConfig:{MODE:3}},mh=ce({...gh,props:{"aria-activedescendant":null,"aria-atomic":{type:[Boolean,String]},"aria-autocomplete":null,"aria-busy":{type:[Boolean,String]},"aria-checked":{type:[Boolean,String]},"aria-colcount":null,"aria-colindex":null,"aria-colspan":null,"aria-controls":null,"aria-current":{type:[Boolean,String]},"aria-describedby":null,"aria-details":null,"aria-disabled":{type:[Boolean,String]},"aria-dropeffect":null,"aria-errormessage":null,"aria-expanded":{type:[Boolean,String]},"aria-flowto":null,"aria-grabbed":{type:[Boolean,String]},"aria-haspopup":{type:[Boolean,String]},"aria-hidden":{type:[Boolean,String]},"aria-invalid":{type:[Boolean,String]},"aria-keyshortcuts":null,"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":null,"aria-modal":{type:[Boolean,String]},"aria-multiline":{type:[Boolean,String]},"aria-multiselectable":{type:[Boolean,String]},"aria-orientation":null,"aria-owns":null,"aria-placeholder":null,"aria-posinset":null,"aria-pressed":{type:[Boolean,String]},"aria-readonly":{type:[Boolean,String]},"aria-relevant":null,"aria-required":{type:[Boolean,String]},"aria-roledescription":null,"aria-rowcount":null,"aria-rowindex":null,"aria-rowspan":null,"aria-selected":{type:[Boolean,String]},"aria-setsize":null,"aria-sort":null,"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,innerHTML:null,class:null,style:null,color:null,height:null,id:null,lang:null,max:null,media:null,method:null,min:null,name:null,target:null,type:null,width:null,role:null,tabindex:null,"accent-height":null,accumulate:null,additive:null,"alignment-baseline":null,allowReorder:null,alphabetic:null,amplitude:null,"arabic-form":null,ascent:null,attributeName:null,attributeType:null,autoReverse:null,azimuth:null,baseFrequency:null,"baseline-shift":null,baseProfile:null,bbox:null,begin:null,bias:null,by:null,calcMode:null,"cap-height":null,clip:null,"clip-path":null,clipPathUnits:null,"clip-rule":null,"color-interpolation":null,"color-interpolation-filters":null,"color-profile":null,"color-rendering":null,contentScriptType:null,contentStyleType:null,cursor:null,cx:null,cy:null,d:null,decelerate:null,descent:null,diffuseConstant:null,direction:null,display:null,divisor:null,"dominant-baseline":null,dur:null,dx:null,dy:null,edgeMode:null,elevation:null,"enable-background":null,end:null,exponent:null,externalResourcesRequired:null,fill:null,"fill-opacity":null,"fill-rule":null,filter:null,filterRes:null,filterUnits:null,"flood-color":null,"flood-opacity":null,focusable:null,"font-family":null,"font-size":null,"font-size-adjust":null,"font-stretch":null,"font-style":null,"font-variant":null,"font-weight":null,format:null,from:null,fx:null,fy:null,g1:null,g2:null,"glyph-name":null,"glyph-orientation-horizontal":null,"glyph-orientation-vertical":null,glyphRef:null,gradientTransform:null,gradientUnits:null,hanging:null,"horiz-adv-x":null,"horiz-origin-x":null,href:null,ideographic:null,"image-rendering":null,in2:null,in:null,intercept:null,k1:null,k2:null,k3:null,k4:null,k:null,kernelMatrix:null,kernelUnitLength:null,kerning:null,keyPoints:null,keySplines:null,keyTimes:null,lengthAdjust:null,"letter-spacing":null,"lighting-color":null,limitingConeAngle:null,local:null,"marker-end":null,markerHeight:null,"marker-mid":null,"marker-start":null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,mode:null,numOctaves:null,offset:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,"overline-position":null,"overline-thickness":null,"paint-order":null,"panose-1":null,pathLength:null,patternContentUnits:null,patternTransform:null,patternUnits:null,"pointer-events":null,points:null,pointsAtX:null,pointsAtY:null,pointsAtZ:null,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,r:null,radius:null,refX:null,refY:null,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:null,requiredFeatures:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,"shape-rendering":null,slope:null,spacing:null,specularConstant:null,specularExponent:null,speed:null,spreadMethod:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,"stop-color":null,"stop-opacity":null,"strikethrough-position":null,"strikethrough-thickness":null,string:null,stroke:null,"stroke-dasharray":null,"stroke-dashoffset":null,"stroke-linecap":null,"stroke-linejoin":null,"stroke-miterlimit":null,"stroke-opacity":null,"stroke-width":null,surfaceScale:null,systemLanguage:null,tableValues:null,targetX:null,targetY:null,"text-anchor":null,"text-decoration":null,textLength:null,"text-rendering":null,to:null,transform:null,u1:null,u2:null,"underline-position":null,"underline-thickness":null,unicode:null,"unicode-bidi":null,"unicode-range":null,"unitsPer-em":null,"v-alphabetic":null,values:null,"vector-effect":null,version:null,"vert-adv-y":null,"vert-origin-x":null,"vert-origin-y":null,"v-hanging":null,"v-ideographic":null,viewBox:null,viewTarget:null,visibility:null,"v-mathematical":null,widths:null,"word-spacing":null,"writing-mode":null,x1:null,x2:null,x:null,xChannelSelector:null,"x-height":null,xlinkActuate:null,xlinkArcrole:null,xlinkHref:null,xlinkRole:null,xlinkShow:null,xlinkTitle:null,xlinkType:null,xmlns:null,y1:null,y2:null,y:null,yChannelSelector:null,z:null,zoomAndPan:null,label:null,labelStyle:{default:{}},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:{}},labelBgPadding:{default:[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=se({x:0,y:0,width:0,height:0}),n=se(null),o=ee(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);tt(r),ge([()=>e.x,()=>e.y,n,()=>e.label],r);function r(){if(!n.value)return;const i=n.value.getBBox();(i.width!==t.value.width||i.height!==t.value.height)&&(t.value=i)}return(i,a)=>(K(),ae("g",{transform:P(o),class:"vue-flow__edge-textwrapper"},[e.labelShowBg?(K(),ae("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*e.labelBgPadding[0]}px`,height:`${t.value.height+2*e.labelBgPadding[1]}px`,x:-e.labelBgPadding[0],y:-e.labelBgPadding[1],style:Pe(e.labelBgStyle),rx:e.labelBgBorderRadius,ry:e.labelBgBorderRadius},null,12,ph)):me("",!0),ye("text",xl(i.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:e.labelStyle}),[fe(i.$slots,"default",{},()=>[P(et)(e.label)?(K(),ae(Ne,{key:1},[bl(Cn(e.label),1)],64)):(K(),_e(mt(e.label),{key:0}))])],16,vh)],8,fh))}}),yh=["id","d","marker-end","marker-start"],wh=["d","stroke-width"],_h={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},oo=ce({..._h,props:{labelStyle:null,labelShowBg:{type:Boolean,default:!0},labelBgStyle:null,labelBgPadding:null,labelBgBorderRadius:null,id:null,labelX:null,labelY:null,path:null,label:null,markerStart:null,markerEnd:null,interactionWidth:{default:20},style:null,ref:null},setup(e,{expose:t}){const n=Ca(e,["interactionWidth","labelShowBg"]),o=se(null),r=se(null),i=se(null),a=Ai();return t({pathEl:o,interactionEl:r,labelEl:i}),(l,u)=>(K(),ae(Ne,null,[ye("path",{id:e.id,ref_key:"pathEl",ref:o,d:e.path,style:Pe(P(n).style),class:Re(["vue-flow__edge-path",P(a).class]),"marker-end":e.markerEnd,"marker-start":e.markerStart},null,14,yh),e.interactionWidth?(K(),ae("path",{key:0,ref_key:"interactionEl",ref:r,fill:"none",d:e.path,"stroke-width":e.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,wh)):me("",!0),e.label&&P(Fe)(e.labelX)&&P(Fe)(e.labelY)?(K(),_e(mh,{key:1,ref_key:"labelEl",ref:i,x:e.labelX,y:e.labelY,label:e.label,"label-show-bg":e.labelShowBg,"label-bg-style":e.labelBgStyle,"label-bg-padding":e.labelBgPadding,"label-bg-border-radius":e.labelBgBorderRadius,"label-style":e.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):me("",!0)],64))}});function Pa({sourceX:e,sourceY:t,targetX:n,targetY:o}){const r=Math.abs(n-e)/2,i=n<e?n+r:n-r,a=Math.abs(o-t)/2,l=o<t?o+a:o-a;return[i,l,r,a]}function Ta({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:i,targetControlX:a,targetControlY:l}){const u=e*.125+r*.375+a*.375+n*.125,s=t*.125+i*.375+l*.375+o*.125,c=Math.abs(u-e),h=Math.abs(s-t);return[u,s,c,h]}function fn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function ni({pos:e,x1:t,y1:n,x2:o,y2:r,c:i}){let a,l;switch(e){case ne.Left:a=t-fn(t-o,i),l=n;break;case ne.Right:a=t+fn(o-t,i),l=n;break;case ne.Top:a=t,l=n-fn(n-r,i);break;case ne.Bottom:a=t,l=n+fn(r-n,i);break}return[a,l]}function Oa({sourceX:e,sourceY:t,sourcePosition:n=ne.Bottom,targetX:o,targetY:r,targetPosition:i=ne.Top,curvature:a=.25}){const[l,u]=ni({pos:n,x1:e,y1:t,x2:o,y2:r,c:a}),[s,c]=ni({pos:i,x1:o,y1:r,x2:e,y2:t,c:a}),[h,f,p,g]=Ta({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:l,sourceControlY:u,targetControlX:s,targetControlY:c});return[`M${e},${t} C${l},${u} ${s},${c} ${o},${r}`,h,f,p,g]}function oi({pos:e,x1:t,y1:n,x2:o,y2:r}){let i,a;switch(e){case ne.Left:case ne.Right:i=.5*(t+o),a=n;break;case ne.Top:case ne.Bottom:i=t,a=.5*(n+r);break}return[i,a]}function Ia({sourceX:e,sourceY:t,sourcePosition:n=ne.Bottom,targetX:o,targetY:r,targetPosition:i=ne.Top}){const[a,l]=oi({pos:n,x1:e,y1:t,x2:o,y2:r}),[u,s]=oi({pos:i,x1:o,y1:r,x2:e,y2:t}),[c,h,f,p]=Ta({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:s});return[`M${e},${t} C${a},${l} ${u},${s} ${o},${r}`,c,h,f,p]}const ri={[ne.Left]:{x:-1,y:0},[ne.Right]:{x:1,y:0},[ne.Top]:{x:0,y:-1},[ne.Bottom]:{x:0,y:1}};function bh({source:e,sourcePosition:t=ne.Bottom,target:n}){return t===ne.Left||t===ne.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function ii(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function xh({source:e,sourcePosition:t=ne.Bottom,target:n,targetPosition:o=ne.Top,center:r,offset:i}){const a=ri[t],l=ri[o],u={x:e.x+a.x*i,y:e.y+a.y*i},s={x:n.x+l.x*i,y:n.y+l.y*i},c=bh({source:u,sourcePosition:t,target:s}),h=c.x!==0?"x":"y",f=c[h];let p,g,m;const[k,b,C,z]=Pa({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[h]*l[h]===-1){g=r.x||k,m=r.y||b;const w=[{x:g,y:u.y},{x:g,y:s.y}],O=[{x:u.x,y:m},{x:s.x,y:m}];a[h]===f?p=h==="x"?w:O:p=h==="x"?O:w}else{const w=[{x:u.x,y:s.y}],O=[{x:s.x,y:u.y}];if(h==="x"?p=a.x===f?O:w:p=a.y===f?w:O,t!==o){const y=h==="x"?"y":"x",R=a[h]===l[y],Y=u[y]>s[y],V=u[y]<s[y];(a[h]===1&&(!R&&Y||R&&V)||a[h]!==1&&(!R&&V||R&&Y))&&(p=h==="x"?w:O)}g=p[0].x,m=p[0].y}return[[e,u,...p,s,n],g,m,C,z]}function kh(e,t,n,o){const r=Math.min(ii(e,t)/2,ii(t,n)/2,o),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){const s=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+r*s},${a}Q ${i},${a} ${i},${a+r*c}`}const l=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${i},${a+r*u}Q ${i},${a} ${i+r*l},${a}`}function Bo({sourceX:e,sourceY:t,sourcePosition:n=ne.Bottom,targetX:o,targetY:r,targetPosition:i=ne.Top,borderRadius:a=5,centerX:l,centerY:u,offset:s=20}){const[c,h,f,p,g]=xh({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:r},targetPosition:i,center:{x:l,y:u},offset:s});return[c.reduce((m,k,b)=>{let C;return b>0&&b<c.length-1?C=kh(c[b-1],k,c[b+1],a):C=`${b===0?"M":"L"}${k.x} ${k.y}`,m+=C,m},""),h,f,p,g]}function $h({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[r,i,a,l]=Pa({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,r,i,a,l]}const Eh=ce({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=Oa({...e,sourcePosition:e.sourcePosition??ne.Bottom,targetPosition:e.targetPosition??ne.Top});return he(oo,{path:n,labelX:o,labelY:r,...t,...e})}}}),Sh=Eh,Mh=ce({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=Ia({...e,sourcePosition:e.sourcePosition??ne.Bottom,targetPosition:e.targetPosition??ne.Top});return he(oo,{path:n,labelX:o,labelY:r,...t,...e})}}}),Nh=Mh,Ch=ce({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=Bo({...e,sourcePosition:e.sourcePosition??ne.Bottom,targetPosition:e.targetPosition??ne.Top});return he(oo,{path:n,labelX:o,labelY:r,...t,...e})}}}),Ba=Ch,zh=ce({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>he(Ba,{...e,...t,borderRadius:0})}}),Ah=zh,Ph=ce({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=$h(e);return he(oo,{path:n,labelX:o,labelY:r,...t,...e})}}}),Th=Ph;function Oh(e,t,n){return n===ne.Left?e-t:n===ne.Right?e+t:e}function Ih(e,t,n){return n===ne.Top?e-t:n===ne.Bottom?e+t:e}const ar=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=ne.Top,type:r}){return he("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${r}`,cx:Oh(t,e,o),cy:Ih(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};ar.props=["radius","centerX","centerY","position","type"];ar.compatConfig={MODE:3};const ai=ar,Bh=ce({name:"Edge",compatConfig:{MODE:3},props:["name","type","id","updatable","selectable","focusable","edge"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:r,emits:i,nodesSelectionActive:a,noPanClassName:l,getEdgeTypes:u,removeSelectedEdges:s,findEdge:c,findNode:h,isValidConnection:f}=ve(),p=Qh(e.edge,i),g=Gt(e,"edge"),m=se(!1),k=se(!1),b=se(""),C=se(null),z=se("source"),w=se(null);ct(sh,e.id),ct(ch,w);const O=ee(()=>g.value.class instanceof Function?g.value.class(g.value):g.value.class),y=ee(()=>g.value.style instanceof Function?g.value.style(g.value):g.value.style),{handlePointerDown:R}=Ra({nodeId:b,handleId:C,type:z,isValidConnection:f,edgeUpdaterType:z,onEdgeUpdate:L,onEdgeUpdateEnd:te});return()=>{const A=h(g.value.source),F=h(g.value.target);if(!A||!F||!g.value||A.hidden||F.hidden)return null;let U;o.value===ht.Strict?U=A.handleBounds.source:U=[...A.handleBounds.source||[],...A.handleBounds.target||[]];const I=Zr(U,g.value.sourceHandle);let G;o.value===ht.Strict?G=F.handleBounds.target:G=[...F.handleBounds.target||[],...F.handleBounds.source||[]];const D=Zr(G,g.value.targetHandle),W=I?I.position:ne.Bottom,le=D?D.position:ne.Top,{sourceX:x,sourceY:M,targetY:X,targetX:H}=Fd(A,I,W,F,D,le);return g.value.sourceX=x,g.value.sourceY=M,g.value.targetX=H,g.value.targetY=X,he("g",{ref:w,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${e.type===!1?"default":e.name}`,l.value,O.value,{updating:m.value,selected:g.value.selected,animated:g.value.animated,inactive:!e.selectable}],onClick:oe,onContextmenu:d,onDblclick:$,onMouseenter:v,onMousemove:_,onMouseleave:S,onKeyDown:e.focusable?B:void 0,tabIndex:e.focusable?0:void 0,"aria-label":g.value.ariaLabel===null?void 0:g.value.ariaLabel||`Edge from ${g.value.source} to ${g.value.target}`,"aria-describedby":e.focusable?`${pa}-${t}`:void 0,role:e.focusable?"button":void 0},[k.value?null:he(e.type===!1?u.value.default:e.type,{id:e.id,sourceNode:A,targetNode:F,source:g.value.source,target:g.value.target,type:g.value.type,updatable:e.updatable,selected:g.value.selected,animated:g.value.animated,label:g.value.label,labelStyle:g.value.labelStyle,labelShowBg:g.value.labelShowBg,labelBgStyle:g.value.labelBgStyle,labelBgPadding:g.value.labelBgPadding,labelBgBorderRadius:g.value.labelBgBorderRadius,data:g.value.data,events:{...g.value.events,...p.on},style:y.value,markerStart:`url(#${rt(g.value.markerStart,t)})`,markerEnd:`url(#${rt(g.value.markerEnd,t)})`,sourcePosition:W,targetPosition:le,sourceX:x,sourceY:M,targetX:H,targetY:X,sourceHandleId:g.value.sourceHandle,targetHandleId:g.value.targetHandle,interactionWidth:g.value.interactionWidth}),[e.updatable==="source"||e.updatable===!0?[he("g",{onMousedown:E,onMouseenter:Y,onMouseout:V},he(ai,{position:W,centerX:x,centerY:M,radius:r.value,type:"source","data-type":"source"}))]:null,e.updatable==="target"||e.updatable===!0?[he("g",{onMousedown:N,onMouseenter:Y,onMouseout:V},he(ai,{position:le,centerX:H,centerY:X,radius:r.value,type:"target","data-type":"target"}))]:null]])};function Y(){m.value=!0}function V(){m.value=!1}function L(A,F){p.emit.update({event:A,edge:g.value,connection:F})}function te(A){p.emit.updateEnd({event:A,edge:g.value}),k.value=!1}function J(A,F){A.button===0&&(k.value=!0,b.value=F?g.value.target:g.value.source,C.value=(F?g.value.targetHandle:g.value.sourceHandle)??"",z.value=F?"target":"source",p.emit.updateStart({event:A,edge:g.value}),R(A))}function oe(A){const F={event:A,edge:g.value};e.selectable&&(a.value=!1,n([g.value])),p.emit.click(F)}function d(A){p.emit.contextMenu({event:A,edge:g.value})}function $(A){p.emit.doubleClick({event:A,edge:g.value})}function v(A){p.emit.mouseEnter({event:A,edge:g.value})}function _(A){p.emit.mouseMove({event:A,edge:g.value})}function S(A){p.emit.mouseLeave({event:A,edge:g.value})}function E(A){J(A,!0)}function N(A){J(A,!1)}function B(A){var F;va.includes(A.key)&&e.selectable&&(A.key==="Escape"?((F=w.value)==null||F.blur(),s([c(e.id)])):n([c(e.id)]))}}}),Dh=Bh,Rh={[ne.Left]:ne.Right,[ne.Right]:ne.Left,[ne.Top]:ne.Bottom,[ne.Bottom]:ne.Top},Vh=ce({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{connectionMode:t,connectionStartHandle:n,connectionEndHandle:o,connectionPosition:r,connectionLineType:i,connectionLineStyle:a,connectionLineOptions:l,connectionStatus:u,viewport:s,findNode:c}=ve(),h=(e=st(no))==null?void 0:e["connection-line"];return()=>{var f,p,g,m,k,b;if(!n.value)return null;const C=c(n.value.nodeId);if(!C)return null;const z=n.value.handleId,w=n.value.type,O=((f=o.value)==null?void 0:f.handleId)&&c(o.value.nodeId)||null,y=(r.value.x-s.value.x)/s.value.zoom,R=(r.value.y-s.value.y)/s.value.zoom,Y=C.handleBounds;let V=Y==null?void 0:Y[w];if(t.value===ht.Loose&&(V=V||(Y==null?void 0:Y[w==="source"?"target":"source"])),!V)return null;const L=z?V.find(B=>B.id===z):V[0],te=L?L.x+L.width/2:(C.dimensions.width??0)/2,J=L?L.y+L.height/2:C.dimensions.height??0,oe=(((p=C.computedPosition)==null?void 0:p.x)??0)+te,d=(((g=C.computedPosition)==null?void 0:g.y)??0)+J,$=L==null?void 0:L.position,v=O&&((m=o.value)==null?void 0:m.handleId)&&((t.value===ht.Strict?(k=O.handleBounds[w==="source"?"target":"source"])==null?void 0:k.find(B=>{var A;return B.id===((A=o.value)==null?void 0:A.handleId)}):[...O.handleBounds.source||[],...O.handleBounds.target||[]].find(B=>{var A;return B.id===((A=o.value)==null?void 0:A.handleId)}))||((b=O.handleBounds[w??"target"])==null?void 0:b[0]))||null,_=$?Rh[$]:null;if(!$||!_)return null;const S=i.value??l.value.type;let E="";const N={sourceX:oe,sourceY:d,sourcePosition:$,targetX:y,targetY:R,targetPosition:_};return S===yt.Bezier?[E]=Oa(N):S===yt.Step?[E]=Bo({...N,borderRadius:0}):S===yt.SmoothStep?[E]=Bo(N):S===yt.SimpleBezier?[E]=Ia(N):E=`M${oe},${d} ${y},${R}`,he("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},he("g",{class:"vue-flow__connection"},h?he(h,{sourceX:oe,sourceY:d,sourcePosition:$,targetX:y,targetY:R,targetPosition:_,sourceNode:C,sourceHandle:L,targetNode:O,targetHandle:v,markerEnd:`url(#${rt(l.value.markerEnd)})`,markerStart:`url(#${rt(l.value.markerStart)})`,connectionStatus:u.value}):he("path",{d:E,class:[l.value.class,u,"vue-flow__connection-path"],style:a.value||l.value.style,"marker-end":`url(#${rt(l.value.markerEnd)})`,"marker-start":`url(#${rt(l.value.markerStart)})`})))}}}),Lh=Vh,Hh=["tabIndex"],jh={name:"NodesSelection",compatConfig:{MODE:3}},Xh=ce({...jh,setup(e){const t=ve(),n=de(t,"emits"),o=de(t,"viewport"),r=de(t,"getSelectedNodes"),i=de(t,"noPanClassName"),a=de(t,"disableKeyboardA11y"),l=de(t,"userSelectionActive"),u=Va(),s=se(null),c=Na({el:s,onStart(m){n.value.selectionDragStart(m)},onDrag(m){n.value.selectionDrag(m)},onStop(m){n.value.selectionDragStop(m)}});tt(()=>{var m;a.value||(m=s.value)==null||m.focus({preventScroll:!0})});const h=ee(()=>nr(r.value)),f=ee(()=>({width:`${h.value.width}px`,height:`${h.value.height}px`,top:`${h.value.y}px`,left:`${h.value.x}px`}));function p(m){n.value.selectionContextMenu({event:m,nodes:r.value})}function g(m){a.value||$t[m.key]&&u({x:$t[m.key].x,y:$t[m.key].y},m.shiftKey)}return(m,k)=>!P(l)&&P(h).width&&P(h).height?(K(),ae("div",{key:0,class:Re(["vue-flow__nodesselection vue-flow__container",P(i)]),style:Pe({transform:`translate(${P(o).x}px,${P(o).y}px) scale(${P(o).zoom})`})},[ye("div",{ref_key:"el",ref:s,class:Re([{dragging:P(c)},"vue-flow__nodesselection-rect"]),style:Pe(P(f)),tabIndex:P(a)?void 0:-1,onContextmenu:p,onKeydown:g},null,46,Hh)],6)):me("",!0)}}),Yh={name:"UserSelection",compatConfig:{MODE:3}},Gh=ce({...Yh,props:{userSelectionRect:null},setup(e){return(t,n)=>(K(),ae("div",{class:"vue-flow__selection vue-flow__container",style:Pe({width:`${e.userSelectionRect.width}px`,height:`${e.userSelectionRect.height}px`,transform:`translate(${e.userSelectionRect.x}px, ${e.userSelectionRect.y}px)`})},null,4))}}),Fh={input:lh,default:ah,output:uh},Uh={default:Sh,straight:Th,step:Ah,smoothstep:Ba,simplebezier:Nh};function Wh(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:tr.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Rn.Free,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:yt.Bezier,style:{}},connectionMode:ht.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:NaN,y:NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:"Meta",zoomActivationKeyCode:"Meta",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:nh(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,disableKeyboardA11y:!1,ariaLiveMessage:"",__experimentalFeatures:{nestedFlow:!1}}}function Da(e){const t=Wh();return e&&Object.keys(e).forEach(n=>{const o=e[n];pe(o)&&(t[n]=o)}),t}function Zh(e,t,n,o,r,i,a){const l=uf(o,r),u=x=>{const M=x??i.value??[];o.hooks.updateNodeInternals.trigger(M)},s=x=>{if(x)return o.nodes&&!i.value.length?o.nodes.find(M=>M.id===x):o.nodes[i.value.indexOf(x)]},c=x=>{if(x)return o.edges&&!a.value.length?o.edges.find(M=>M.id===x):o.edges[a.value.indexOf(x)]},h=(x,M,X)=>{const H=[];x.forEach(j=>{var q,T;const Q={id:j.id,type:"position",dragging:X,from:j.from};if(M&&(Q.position=j.position,j.parentNode)){const re=s(j.parentNode);Q.position={x:Q.position.x-(((q=re==null?void 0:re.computedPosition)==null?void 0:q.x)??0),y:Q.position.y-(((T=re==null?void 0:re.computedPosition)==null?void 0:T.y)??0)}}H.push(Q)}),H!=null&&H.length&&o.hooks.nodesChange.trigger(H)},f=x=>{var M;if(!o.vueFlowRef)return;const X=o.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!X)return;let H;if((M=o.__experimentalFeatures)!=null&&M.nestedFlow){let q=[X],T=X,Q;for(;!Q&&T;)T=T.parentElement,Q=T==null?void 0:T.classList.contains("vue-flow__transformationpane"),Q&&(q=[T,...q]);q.forEach(re=>{const xe=window.getComputedStyle(re),{m22:vt}=new window.DOMMatrixReadOnly(xe.transform);H?H*=vt:H=vt})}else{const q=window.getComputedStyle(X),{m22:T}=new window.DOMMatrixReadOnly(q.transform);H=T}const j=x.reduce((q,T)=>{const Q=s(T.id);if(Q){const re=Jn(T.nodeElement);re.width&&re.height&&(Q.dimensions.width!==re.width||Q.dimensions.height!==re.height||T.forceUpdate)&&(Q.handleBounds.source=Qr(".source",T.nodeElement,H),Q.handleBounds.target=Qr(".target",T.nodeElement,H),Q.dimensions=re,Q.initialized=!0,q.push({id:Q.id,type:"dimensions",dimensions:re}))}return q},[]);j.length&&o.hooks.nodesChange.trigger(j)},p=(x,M)=>{const X=x.map(q=>q.id);let H,j=[];if(o.multiSelectionActive)H=X.map(q=>Xe(q,M));else{const q=vo([...o.nodes,...o.edges],X);H=q.changedNodes,j=q.changedEdges}H.length&&o.hooks.nodesChange.trigger(H),j.length&&o.hooks.edgesChange.trigger(j)},g=(x,M)=>{const X=x.map(q=>q.id);let H=[],j;if(o.multiSelectionActive)j=X.map(q=>Xe(q,M));else{const q=vo([...o.nodes,...o.edges],X);H=q.changedNodes,j=q.changedEdges}H.length&&o.hooks.nodesChange.trigger(H),j.length&&o.hooks.edgesChange.trigger(j)},m=(x,M)=>{const X=x.filter(Et).map(T=>T.id),H=x.filter(Pt).map(T=>T.id);let{changedNodes:j,changedEdges:q}=vo([...o.nodes,...o.edges],[...X,...H]);o.multiSelectionActive&&(j=X.map(T=>Xe(T,M)),q=H.map(T=>Xe(T,M))),j.length&&o.hooks.nodesChange.trigger(j),q.length&&o.hooks.edgesChange.trigger(q)},k=x=>{p(x,!0)},b=x=>{g(x,!0)},C=x=>{m(x,!0)},z=x=>{if(!x.length)return p(x,!1);const M=x.map(X=>X.id).map(X=>Xe(X,!1));M.length&&o.hooks.nodesChange.trigger(M)},w=x=>{if(!x.length)return g(x,!1);const M=x.map(X=>X.id).map(X=>Xe(X,!1));M.length&&o.hooks.edgesChange.trigger(M)},O=x=>{if(!x||!x.length)return m([],!1);const{changedNodes:M,changedEdges:X}=x.reduce((H,j)=>{const q=Xe(j.id,!1);return Et(j)?H.changedNodes.push(q):H.changedEdges.push(q),H},{changedNodes:[],changedEdges:[]});M.length&&o.hooks.nodesChange.trigger(M),X.length&&o.hooks.edgesChange.trigger(X)},y=x=>{var M;(M=o.d3Zoom)==null||M.scaleExtent([x,o.maxZoom]),o.minZoom=x},R=x=>{var M;(M=o.d3Zoom)==null||M.scaleExtent([o.minZoom,x]),o.maxZoom=x},Y=x=>{var M;(M=o.d3Zoom)==null||M.translateExtent(x),o.translateExtent=x},V=x=>{o.nodeExtent=x,u(i.value)},L=x=>{o.nodesDraggable=x,o.nodesConnectable=x,o.elementsSelectable=x},te=x=>{const M=x instanceof Function?x(o.nodes):x;!o.initialized&&!M.length||(o.nodes=ei(M,o.nodes,s,o.hooks.error.trigger))},J=x=>{const M=x instanceof Function?x(o.edges):x;if(!o.initialized&&!M.length)return;const X=o.isValidConnection?M.filter(H=>o.isValidConnection(H,{edges:o.edges,sourceNode:s(H.source),targetNode:s(H.target)})):M;o.edges=X.reduce((H,j)=>{const q=s(j.source),T=s(j.target),Q=!q||typeof q>"u",re=!T||typeof T>"u";if(Q&&re?o.hooks.error.trigger(new be(we.EDGE_SOURCE_TARGET_MISSING,j.id,j.source,j.target)):(Q&&o.hooks.error.trigger(new be(we.EDGE_SOURCE_MISSING,j.id,j.source)),re&&o.hooks.error.trigger(new be(we.EDGE_TARGET_MISSING,j.id,j.target))),Q||re)return H;const xe=c(j.id);return H.push({...ma(j,Object.assign({},xe,o.defaultEdgeOptions)),sourceNode:q,targetNode:T}),H},[])},oe=x=>{const M=x instanceof Function?x([...o.nodes,...o.edges]):x;!o.initialized&&!M.length||(te(M.filter(Et)),J(M.filter(Pt)))},d=x=>{let M=x instanceof Function?x(o.nodes):x;M=Array.isArray(M)?M:[M];const X=ei(M,o.nodes,s,o.hooks.error.trigger).map(Fr);X.length&&o.hooks.nodesChange.trigger(X)},$=x=>{let M=x instanceof Function?x(o.edges):x;M=Array.isArray(M)?M:[M];const X=(o.isValidConnection?M.filter(H=>o.isValidConnection(H,{edges:o.edges,sourceNode:s(H.source),targetNode:s(H.target)})):M).reduce((H,j)=>{const q=eh({...j,...o.defaultEdgeOptions},o.edges,o.hooks.error.trigger);if(q){const T=s(q.source),Q=s(q.target),re=!T||typeof T>"u",xe=!Q||typeof Q>"u";if(re&&xe?o.hooks.error.trigger(new be(we.EDGE_SOURCE_TARGET_MISSING,q.id,q.source,q.target)):(re&&o.hooks.error.trigger(new be(we.EDGE_SOURCE_MISSING,q.id,q.source)),xe&&o.hooks.error.trigger(new be(we.EDGE_TARGET_MISSING,q.id,q.target))),re||xe)return H;H.push(Fr({...q,sourceNode:T,targetNode:Q}))}return H},[]);X.length&&o.hooks.edgesChange.trigger(X)},v=(x,M=!0)=>{let X=x instanceof Function?x(o.nodes):x;X=Array.isArray(X)?X:[X];const H=[],j=[];X.forEach(q=>{const T=typeof q=="string"?s(q):q;if(T&&!(pe(T.deletable)&&!T.deletable)&&(H.push(po(T.id)),M)){const Q=Ye([T],o.edges).filter(re=>pe(re.deletable)?re.deletable:!0);j.push(...Q.map(re=>po(re.id)))}}),j.length&&o.hooks.edgesChange.trigger(j),H.length&&o.hooks.nodesChange.trigger(H)},_=x=>{let M=x instanceof Function?x(o.edges):x;M=Array.isArray(M)?M:[M];const X=[];M.forEach(H=>{const j=typeof H=="string"?c(H):H;j&&(pe(j.deletable)&&!j.deletable||X.push(po(typeof H=="string"?H:H.id)))}),o.hooks.edgesChange.trigger(X)},S=(x,M,X=!0)=>th(x,M,o.edges,c,X,o.hooks.error.trigger),E=x=>Gr(x,o.nodes),N=x=>Gr(x,o.edges),B=(x,M,X,H=!1)=>{H?o.connectionClickStartHandle=x:o.connectionStartHandle=x,o.connectionEndHandle=null,o.connectionStatus=null,M&&(o.connectionPosition=M)},A=(x,M=null,X=null)=>{o.connectionStartHandle&&(o.connectionPosition=x,o.connectionEndHandle=M,o.connectionStatus=X)},F=(x,M)=>{o.connectionPosition={x:NaN,y:NaN},o.connectionEndHandle=null,o.connectionStatus=null,M?o.connectionClickStartHandle=null:o.connectionStartHandle=null},U=x=>{const M=Bd(x),X=M?null:s(x.id);return!M&&!X?[null,null,M]:[M?x:Hr(X),X,M]},I=(x,M=!0,X)=>{const[H,j,q]=U(x);return H?(X||o.nodes).filter(T=>{if(!q&&(T.id===j.id||!T.computedPosition))return!1;const Q=Hr(T),re=Oo(Q,H);return M&&re>0||re>=Number(x.width)*Number(x.height)}):[]},G=(x,M,X=!0)=>{const[H]=U(x);if(!H)return!1;const j=Oo(H,M);return X&&j>0||j>=Number(x.width)*Number(x.height)},D=x=>{const{viewport:M,dimensions:X,d3Zoom:H,d3Selection:j,translateExtent:q}=o;if(!H||!j||!x.x&&!x.y)return!1;const T=At.translate(M.x+x.x,M.y+x.y).scale(M.zoom),Q=[[0,0],[X.width,X.height]],re=H.constrain()(T,Q,q),xe=o.viewport.x!==re.x||o.viewport.y!==re.y||o.viewport.zoom!==re.k;return H.transform(j,re),xe},W=x=>{const M=x instanceof Function?x(o):x,X=["modelValue","nodes","edges","maxZoom","minZoom","translateExtent","nodeExtent","hooks","defaultEdgeOptions"],H=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];pe(M.defaultEdgeOptions)&&(o.defaultEdgeOptions=M.defaultEdgeOptions);const j=M.modelValue||M.nodes||M.edges?[]:void 0;j&&(M.modelValue&&j.push(...M.modelValue),M.nodes&&j.push(...M.nodes),M.edges&&j.push(...M.edges),oe(j));const q=()=>{pe(M.maxZoom)&&R(M.maxZoom),pe(M.minZoom)&&y(M.minZoom),pe(M.translateExtent)&&Y(M.translateExtent),pe(M.nodeExtent)&&V(M.nodeExtent)};Object.keys(M).forEach(T=>{const Q=T,re=M[Q];![...X,...H].includes(Q)&&pe(re)&&(o[Q]=re)}),o.d3Zoom?q():Nt(()=>o.d3Zoom).not.toBeUndefined().then(q),o.initialized||(o.initialized=!0)},le={updateNodePositions:h,updateNodeDimensions:f,setElements:oe,setNodes:te,setEdges:J,addNodes:d,addEdges:$,removeNodes:v,removeEdges:_,findNode:s,findEdge:c,updateEdge:S,applyEdgeChanges:N,applyNodeChanges:E,addSelectedElements:C,addSelectedNodes:k,addSelectedEdges:b,setMinZoom:y,setMaxZoom:R,setTranslateExtent:Y,setNodeExtent:V,removeSelectedElements:O,removeSelectedNodes:z,removeSelectedEdges:w,startConnection:B,updateConnection:A,endConnection:F,setInteractive:L,setState:W,getIntersectingNodes:I,isNodeIntersecting:G,panBy:D,fitView:x=>l.value.fitView(x),zoomIn:x=>l.value.zoomIn(x),zoomOut:x=>l.value.zoomOut(x),zoomTo:(x,M)=>l.value.zoomTo(x,M),setTransform:(x,M)=>l.value.setTransform(x,M),getTransform:()=>l.value.getTransform(),setCenter:(x,M,X)=>l.value.setCenter(x,M,X),fitBounds:(x,M)=>l.value.fitBounds(x,M),project:x=>l.value.project(x),toObject:()=>JSON.parse(JSON.stringify({nodes:o.nodes.map(x=>{const{computedPosition:M,handleBounds:X,selected:H,dimensions:j,isParent:q,resizing:T,dragging:Q,initialized:re,...xe}=x;return xe}),edges:o.edges.map(x=>{const{selected:M,sourceNode:X,targetNode:H,...j}=x;return j}),position:[o.viewport.x,o.viewport.y],zoom:o.viewport.zoom})),fromObject:x=>{const{nodes:M,edges:X,position:H,zoom:j}=x;M&&te(M),X&&J(X),H&&l.value.setTransform({x:H[0],y:H[1],zoom:j||1})},updateNodeInternals:u,$reset:()=>{const x=Da();if(o.edges=[],o.nodes=[],o.d3Zoom&&o.d3Selection){const M=At.translate(x.defaultViewport.x??0,x.defaultViewport.y??0).scale(ft(x.defaultViewport.zoom??1,x.minZoom,x.maxZoom)),X=o.viewportRef.getBoundingClientRect(),H=[[0,0],[X.width,X.height]],j=o.d3Zoom.constrain()(M,H,x.translateExtent);o.d3Zoom.transform(o.d3Selection,j)}W(x)},$destroy:()=>{}};return Nt(()=>l.value.initialized).toBe(!0,{flush:"pre"}).then(()=>{o.fitViewOnInit&&l.value.fitView(),o.hooks.paneReady.trigger({id:e,emits:t,vueFlowVersion:"1.21.2",...n,...o,...r,...le})}),le}function qh(e,t,n){const o=ee(()=>m=>e.nodes&&!t.value.length?e.nodes.find(k=>k.id===m):e.nodes[t.value.indexOf(m)]),r=ee(()=>m=>e.edges&&!n.value.length?e.edges.find(k=>k.id===m):e.edges[n.value.indexOf(m)]),i=ee(()=>{var m;const k={...Uh,...e.edgeTypes},b=Object.keys(k);return(m=e.edges)==null||m.forEach(C=>C.type&&!b.includes(C.type)&&(k[C.type]=C.type)),k}),a=ee(()=>{var m;const k={...Fh,...e.nodeTypes},b=Object.keys(k);return(m=e.nodes)==null||m.forEach(C=>C.type&&!b.includes(C.type)&&(k[C.type]=C.type)),k}),l=ee(()=>{const m=e.nodes.filter(k=>!k.hidden);return e.onlyRenderVisibleElements?m&&xa(m,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):m??[]}),u=(m,k,b)=>{if(k=k??o.value(m.source),b=b??o.value(m.target),!k||!b){e.hooks.error.trigger(new be(we.EDGE_ORPHANED,m.id));return}return!m.hidden&&!b.hidden&&!k.hidden},s=ee(()=>e.onlyRenderVisibleElements?e.edges.filter(m=>{const k=o.value(m.source),b=o.value(m.target);return u(m,k,b)&&Ud({sourcePos:k.computedPosition||{x:0,y:0},targetPos:b.computedPosition||{x:0,y:0},sourceWidth:k.dimensions.width,sourceHeight:k.dimensions.height,targetWidth:b.dimensions.width,targetHeight:b.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})}):e.edges.filter(m=>u(m))),c=ee(()=>[...l.value,...s.value]),h=ee(()=>e.nodes.filter(m=>m.selected)),f=ee(()=>e.edges.filter(m=>m.selected)),p=ee(()=>[...h.value??[],...f.value??[]]),g=ee(()=>l.value.filter(m=>m.initialized&&m.handleBounds!==void 0));return{getNode:o,getEdge:r,getElements:c,getEdgeTypes:i,getNodeTypes:a,getEdges:s,getNodes:l,getSelectedElements:p,getSelectedNodes:h,getSelectedEdges:f,getNodesInitialized:g}}let Kh=class jt{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){return jt.instance||(jt.instance=new jt),jt.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=Da(n),r=gl(o),i={};Object.entries(r.hooks).forEach(([f,p])=>{const g=`on${f.charAt(0).toUpperCase()+f.slice(1)}`;i[g]=p.on});const a={};Object.entries(r.hooks).forEach(([f,p])=>{a[f]=p.trigger});const l=ee(()=>r.nodes.map(f=>f.id)),u=ee(()=>r.edges.map(f=>f.id)),s=qh(r,l,u),c=Zh(t,a,i,r,s,l,u);c.setState(r);const h={...i,...s,...c,...Dl(r),emits:a,id:t,vueFlowVersion:"1.21.2",$destroy:()=>{this.remove(t)}};return this.set(t,h),h}getId(){return`vue-flow-${this.currentId++}`}};function ve(e){const t=Kh.getInstance(),n=Si(),o=e==null?void 0:e.id,r=(n==null?void 0:n.vueFlowId)||o;let i,a=!1;if(n){const l=st(ti,null);typeof l<"u"&&l!==null&&(i=l)}if(i||r&&(i=t.get(r)),!i||i&&o&&o!==i.id){const l=o??t.getId();i=t.create(l,e),n&&(a=!0)}else e&&i.setState(e);return n&&(ct(ti,i),n.vueFlowId=i.id,a&&nn(()=>{if(i){const l=t.get(i.id);l?l.$destroy():Ma(`No store instance found for id ${i.id} in storage.`)}})),i}function Jh(){return{doubleClick:Z(),click:Z(),mouseEnter:Z(),mouseMove:Z(),mouseLeave:Z(),contextMenu:Z(),updateStart:Z(),update:Z(),updateEnd:Z()}}function Qh(e,t){const n=Jh();return n.doubleClick.on(o=>{var r,i;t.edgeDoubleClick(o),(i=(r=e.events)==null?void 0:r.doubleClick)==null||i.call(r,o)}),n.click.on(o=>{var r,i;t.edgeClick(o),(i=(r=e.events)==null?void 0:r.click)==null||i.call(r,o)}),n.mouseEnter.on(o=>{var r,i;t.edgeMouseEnter(o),(i=(r=e.events)==null?void 0:r.mouseEnter)==null||i.call(r,o)}),n.mouseMove.on(o=>{var r,i;t.edgeMouseMove(o),(i=(r=e.events)==null?void 0:r.mouseMove)==null||i.call(r,o)}),n.mouseLeave.on(o=>{var r,i;t.edgeMouseLeave(o),(i=(r=e.events)==null?void 0:r.mouseLeave)==null||i.call(r,o)}),n.contextMenu.on(o=>{var r,i;t.edgeContextMenu(o),(i=(r=e.events)==null?void 0:r.contextMenu)==null||i.call(r,o)}),n.updateStart.on(o=>{var r,i;t.edgeUpdateStart(o),(i=(r=e.events)==null?void 0:r.updateStart)==null||i.call(r,o)}),n.update.on(o=>{var r,i;t.edgeUpdate(o),(i=(r=e.events)==null?void 0:r.update)==null||i.call(r,o)}),n.updateEnd.on(o=>{var r,i;t.edgeUpdateEnd(o),(i=(r=e.events)==null?void 0:r.updateEnd)==null||i.call(r,o)}),Object.entries(n).reduce((o,[r,i])=>(o.emit[r]=i.trigger,o.on[r]=i.on,o),{emit:{},on:{}})}function ef(){const{viewport:e,snapGrid:t,snapToGrid:n}=ve();return({sourceEvent:o})=>{const r=o.touches?o.touches[0].clientX:o.clientX,i=o.touches?o.touches[0].clientY:o.clientY,a={x:(r-e.value.x)/e.value.zoom,y:(i-e.value.y)/e.value.zoom};return{xSnapped:n.value?t.value[0]*Math.round(a.x/t.value[0]):a.x,ySnapped:n.value?t.value[1]*Math.round(a.y/t.value[1]):a.y,...a}}}function pn(){return!0}function Ra({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:r,onEdgeUpdate:i,onEdgeUpdateEnd:a}){const{vueFlowRef:l,connectionMode:u,connectionRadius:s,connectOnClick:c,connectionClickStartHandle:h,nodesConnectable:f,autoPanOnConnect:p,findNode:g,panBy:m,getNodes:k,startConnection:b,updateConnection:C,endConnection:z,emits:w,viewport:O,edges:y,isValidConnection:R}=ve();let Y=null,V=!1,L=null;function te(oe){var d;const $=ue(n)==="target",v=rr(oe),_=jr(oe.target);if(v&&oe.button===0||!v){let S=function(j){x=lt(j,W);const{handle:q,validHandleResult:T}=qd(j,_,wa(x,O.value,!1,[1,1]),s.value,X,Q=>Jr(j,Q,u.value,ue(t),ue(e),$?"target":"source",B,_,y.value,g));if(A=q,M||(H(),M=!0),Y=T.connection,V=T.isValid,L=T.handleDomNode,C(A&&V?Vd({x:A.x,y:A.y},O.value):x,T.endHandle,Jd(!!A,V)),!A&&!V&&!L)return mo(le);Y&&Y.source!==Y.target&&L&&(mo(le),le=L,L.classList.add("connecting","vue-flow__handle-connecting"),L.classList.toggle("valid",V),L.classList.toggle("vue-flow__handle-valid",V))},E=function(j){(A||L)&&Y&&V&&(i?i(j,Y):w.connect(Y)),w.connectEnd(j),r&&(a==null||a(j)),mo(le),cancelAnimationFrame(F),z(j),M=!1,V=!1,Y=null,L=null,_.removeEventListener("mousemove",S),_.removeEventListener("mouseup",E),_.removeEventListener("touchmove",S),_.removeEventListener("touchend",E)};const N=g(ue(t));let B=ue(o)||R.value||pn;!B&&N&&(B=($?N.isValidSourcePos:N.isValidTargetPos)||pn);let A,F=0;const{x:U,y:I}=lt(oe),G=_==null?void 0:_.elementFromPoint(U,I),D=ir(ue(r),G),W=(d=l.value)==null?void 0:d.getBoundingClientRect();if(!W||!D)return;let le,x=lt(oe,W),M=!1;const X=Kd({nodes:k.value,nodeId:ue(t),handleId:ue(e),handleType:D}),H=()=>{if(!p)return;const[j,q]=$a(x,W);m({x:j,y:q}),F=requestAnimationFrame(H)};b({nodeId:ue(t),handleId:ue(e),type:D},{x:U-W.left,y:I-W.top},oe),w.connectStart({event:oe,nodeId:ue(t),handleId:ue(e),handleType:D}),_.addEventListener("mousemove",S),_.addEventListener("mouseup",E),_.addEventListener("touchmove",S),_.addEventListener("touchend",E)}}function J(oe){if(!c.value)return;const d=ue(n)==="target";if(!h.value)w.clickConnectStart({event:oe,nodeId:ue(t),handleId:ue(e)}),b({nodeId:ue(t),type:ue(n),handleId:ue(e)},void 0,oe,!0);else{let $=ue(o)||R.value||pn;const v=g(ue(t));if(!$&&v&&($=(d?v.isValidSourcePos:v.isValidTargetPos)||pn),v&&(typeof v.connectable>"u"?f.value:v.connectable)===!1)return;const _=jr(oe.target),{connection:S,isValid:E}=Jr(oe,{nodeId:ue(t),id:ue(e),type:ue(n)},u.value,h.value.nodeId,h.value.handleId||null,h.value.type,$,_,y.value,g),N=S.source===S.target;E&&!N&&w.connect(S),w.clickConnectEnd(oe),z(oe,!0)}}return{handlePointerDown:te,handleClick:J}}function lr(){return typeof window<"u"?window:{chrome:!1}}function Do(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,r=Tt(o.hasAttribute)?o.hasAttribute("contenteditable"):!1,i=Tt(o.closest)?o.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(o==null?void 0:o.nodeName)||r||!!i}function tf(e){return e.ctrlKey||e.metaKey||e.shiftKey}function nf(e,t){return n=>e.some(o=>{const r=o.split("+").map(i=>i.trim().toLowerCase());return r.length===1?n.key===o:(t.add(n.key.toLowerCase()),r.every(i=>t.has(i)))})}function Ft(e,t){const n=lr(),o=se(ue(e)===!0);let r=!1;const i=new Set;return ge(o,()=>{t==null||t(o.value)}),ge(()=>ue(e),a=>{if(n&&typeof n.addEventListener<"u"&&Wo(n,"blur",()=>{o.value=!1}),Zd(a)){o.value=a;return}Array.isArray(a)&&(a=nf(a,i)),a&&(br(a,l=>{r=tf(l),!(!r&&Do(l))&&(l.preventDefault(),o.value=!0)},{eventName:"keydown"}),br(a,l=>{if(o.value){if(!r&&Do(l))return;r=!1,i.clear(),o.value=!1}},{eventName:"keyup"}))},{immediate:!0}),o}function of(e){const t=e??st(za,""),n=st(Aa,se(null)),{findNode:o,edges:r,emits:i}=ve(),a=o(t);return a||i.error(new be(we.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:a,parentNode:ee(()=>o(a.parentNode)),connectedEdges:ee(()=>Ye([a],r.value))}}function rf(){return{doubleClick:Z(),click:Z(),mouseEnter:Z(),mouseMove:Z(),mouseLeave:Z(),contextMenu:Z(),dragStart:Z(),drag:Z(),dragStop:Z()}}function af(e,t){const n=rf();return n.doubleClick.on(o=>{var r,i;t.nodeDoubleClick(o),(i=(r=e.events)==null?void 0:r.doubleClick)==null||i.call(r,o)}),n.click.on(o=>{var r,i;t.nodeClick(o),(i=(r=e.events)==null?void 0:r.click)==null||i.call(r,o)}),n.mouseEnter.on(o=>{var r,i;t.nodeMouseEnter(o),(i=(r=e.events)==null?void 0:r.mouseEnter)==null||i.call(r,o)}),n.mouseMove.on(o=>{var r,i;t.nodeMouseMove(o),(i=(r=e.events)==null?void 0:r.mouseMove)==null||i.call(r,o)}),n.mouseLeave.on(o=>{var r,i;t.nodeMouseLeave(o),(i=(r=e.events)==null?void 0:r.mouseLeave)==null||i.call(r,o)}),n.contextMenu.on(o=>{var r,i;t.nodeContextMenu(o),(i=(r=e.events)==null?void 0:r.contextMenu)==null||i.call(r,o)}),n.dragStart.on(o=>{var r,i;t.nodeDragStart(o),(i=(r=e.events)==null?void 0:r.dragStart)==null||i.call(r,o)}),n.drag.on(o=>{var r,i;t.nodeDrag(o),(i=(r=e.events)==null?void 0:r.drag)==null||i.call(r,o)}),n.dragStop.on(o=>{var r,i;t.nodeDragStop(o),(i=(r=e.events)==null?void 0:r.dragStop)==null||i.call(r,o)}),Object.entries(n).reduce((o,[r,i])=>(o.emit[r]=i.trigger,o.on[r]=i.on,o),{emit:{},on:{}})}function Va(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:r,snapToGrid:i,nodesDraggable:a,emits:l}=ve();return(u,s=!1)=>{const c=i.value?r.value[0]:5,h=i.value?r.value[1]:5,f=s?4:1,p=u.x*c*f,g=u.y*h*f,m=e.value.filter(k=>k.draggable||a&&typeof k.draggable>"u").map(k=>{const b={x:k.computedPosition.x+p,y:k.computedPosition.y+g},{computedPosition:C}=or(k,b,l.error,t.value,k.parentNode?o(k.parentNode):void 0);return{id:k.id,position:C,from:k.position,distance:{x:u.x,y:u.y},dimensions:k.dimensions}});n(m,!0,!1)}}const yo=.1;function nt(){}const lf={zoomIn:nt,zoomOut:nt,zoomTo:nt,fitView:nt,setCenter:nt,fitBounds:nt,project:e=>e,setTransform:nt,getTransform:()=>({x:0,y:0,zoom:1}),initialized:!1};function uf(e,t){const n=e,o=de(n,"nodes"),r=de(n,"d3Zoom"),i=de(n,"d3Selection"),a=de(n,"dimensions"),l=de(n,"translateExtent"),u=de(n,"minZoom"),s=de(n,"maxZoom"),c=de(n,"viewport"),h=de(n,"snapToGrid"),f=de(n,"snapGrid"),p=de(n,"hooks"),{getNodes:g}=t,m=se(!1);p.value.nodesInitialized.on(()=>{m.value=!0});const k=ee(()=>!!r.value&&!!i.value&&!!a.value.width&&!!a.value.height&&m.value);function b(z,w){i.value&&r.value&&r.value.scaleBy(wo(i.value,w),z)}function C(z,w,O,y){const{x:R,y:Y}=ga({x:-z,y:-w},l.value),V=At.translate(-R,-Y).scale(O);i.value&&r.value&&r.value.transform(wo(i.value,y),V)}return ee(()=>k.value?{initialized:!0,zoomIn:z=>{b(1.2,z==null?void 0:z.duration)},zoomOut:z=>{b(1/1.2,z==null?void 0:z.duration)},zoomTo:(z,w)=>{i.value&&r.value&&r.value.scaleTo(wo(i.value,w==null?void 0:w.duration),z)},setTransform:(z,w)=>{C(z.x,z.y,z.zoom,w==null?void 0:w.duration)},getTransform:()=>({x:c.value.x,y:c.value.y,zoom:c.value.zoom}),fitView:(z={padding:yo,includeHiddenNodes:!1,duration:0})=>{if(!o.value.length)return;const w=(z.includeHiddenNodes?o.value:g.value).filter(V=>{var L;const te=V.initialized&&V.dimensions.width&&V.dimensions.height;let J=!0;return(L=z.nodes)!=null&&L.length&&(J=z.nodes.includes(V.id)),te&&J}),O=nr(w),{x:y,y:R,zoom:Y}=Xr(O,a.value.width,a.value.height,z.minZoom??u.value,z.maxZoom??s.value,z.padding??yo,z.offset);C(y,R,Y,z==null?void 0:z.duration)},setCenter:(z,w,O)=>{const y=typeof(O==null?void 0:O.zoom)<"u"?O.zoom:s.value,R=a.value.width/2-z*y,Y=a.value.height/2-w*y;C(R,Y,y,O==null?void 0:O.duration)},fitBounds:(z,w={padding:yo})=>{const{x:O,y,zoom:R}=Xr(z,a.value.width,a.value.height,u.value,s.value,w.padding);C(O,y,R,w==null?void 0:w.duration)},project:z=>wa(z,c.value,h.value,f.value)}:lf)}function wo(e,t=0){return e.transition().duration(t)}function sf(e,t,n){const o=_l();return o.run(()=>{[()=>{o.run(()=>{let r,i,a=!!(n.nodes.value.length||n.edges.value.length);r=gt([e.modelValue,()=>{var l,u;return(u=(l=e.modelValue)==null?void 0:l.value)==null?void 0:u.length}],([l])=>{l&&Array.isArray(l)&&(i==null||i.pause(),n.setElements(l),!i&&!a&&l.length?a=!0:i==null||i.resume())}),i=gt([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([l,u])=>{var s;(s=e.modelValue)!=null&&s.value&&Array.isArray(e.modelValue.value)&&(r==null||r.pause(),e.modelValue.value=[...l,...u],bt(()=>{r==null||r.resume()}))},{immediate:a}),_n(()=>{r==null||r.stop(),i==null||i.stop()})})},()=>{o.run(()=>{let r,i,a=!!n.nodes.value.length;r=gt([e.nodes,()=>{var l,u;return(u=(l=e.nodes)==null?void 0:l.value)==null?void 0:u.length}],([l])=>{l&&Array.isArray(l)&&(i==null||i.pause(),n.setNodes(l),!i&&!a&&l.length?a=!0:i==null||i.resume())}),i=gt([n.nodes,()=>n.nodes.value.length],([l])=>{var u;(u=e.nodes)!=null&&u.value&&Array.isArray(e.nodes.value)&&(r==null||r.pause(),e.nodes.value=[...l],bt(()=>{r==null||r.resume()}))},{immediate:a}),_n(()=>{r==null||r.stop(),i==null||i.stop()})})},()=>{o.run(()=>{let r,i,a=!!n.edges.value.length;r=gt([e.edges,()=>{var l,u;return(u=(l=e.edges)==null?void 0:l.value)==null?void 0:u.length}],([l])=>{l&&Array.isArray(l)&&(i==null||i.pause(),n.setEdges(l),!i&&!a&&l.length?a=!0:i==null||i.resume())}),i=gt([n.edges,()=>n.edges.value.length],([l])=>{var u;(u=e.edges)!=null&&u.value&&Array.isArray(e.edges.value)&&(r==null||r.pause(),e.edges.value=[...l],bt(()=>{r==null||r.resume()}))},{immediate:a}),_n(()=>{r==null||r.stop(),i==null||i.stop()})})},()=>{o.run(()=>{ge(()=>t.minZoom,()=>{t.minZoom&&pe(t.minZoom)&&n.setMinZoom(t.minZoom)})})},()=>{o.run(()=>{ge(()=>t.maxZoom,()=>{t.maxZoom&&pe(t.maxZoom)&&n.setMaxZoom(t.maxZoom)})})},()=>{o.run(()=>{ge(()=>t.translateExtent,()=>{t.translateExtent&&pe(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)})})},()=>{o.run(()=>{ge(()=>t.nodeExtent,()=>{t.nodeExtent&&pe(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)})})},()=>{o.run(()=>{ge(()=>t.applyDefault,()=>{pe(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)}),ge(n.applyDefault,(r,i,a)=>{n.applyDefault.value?(n.onNodesChange(n.applyNodeChanges),n.onEdgesChange(n.applyEdgeChanges)):(n.hooks.value.nodesChange.off(n.applyNodeChanges),n.hooks.value.edgesChange.off(n.applyEdgeChanges)),a(()=>{n.hooks.value.nodesChange.off(n.applyNodeChanges),n.hooks.value.edgesChange.off(n.applyEdgeChanges)})},{immediate:!0})})},()=>{o.run(()=>{const r=async i=>{let a=i;Tt(t.autoConnect)&&(a=await t.autoConnect(i)),a!==!1&&n.addEdges([a])};ge(()=>t.autoConnect,()=>{pe(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)}),ge(n.autoConnect,(i,a,l)=>{i?n.onConnect(r):n.hooks.value.connect.off(r),l(()=>{n.hooks.value.connect.off(r)})},{immediate:!0})})},()=>{const r=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];Object.keys(t).forEach(i=>{if(!r.includes(i)){const a=$o(t,i),l=n[i];o.run(()=>{ge(a,u=>{pe(u)&&(l.value=u)},{flush:"pre"})})}})}].forEach(r=>r())}),()=>o.stop()}function li(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const cf={name:"Pane",compatConfig:{MODE:3}},df=ce({...cf,props:{isSelecting:{type:Boolean}},setup(e){const{id:t,vueFlowRef:n,getNodes:o,getEdges:r,viewport:i,emits:a,userSelectionActive:l,removeSelectedElements:u,panOnDrag:s,userSelectionRect:c,elementsSelectable:h,nodesSelectionActive:f,addSelectedElements:p,getSelectedEdges:g,getSelectedNodes:m,removeNodes:k,removeEdges:b,selectionMode:C,deleteKeyCode:z,multiSelectionKeyCode:w,multiSelectionActive:O}=ve(),y=se(null),R=se(0),Y=se(0),V=se(),L=ee(()=>h.value&&(e.isSelecting||l.value));Ft(z,N=>{if(!N)return;const B=o.value.reduce((A,F)=>((!F.selected&&F.parentNode&&A.find(U=>U.id===F.parentNode)||F.selected)&&A.push(F),A),[]);(B||g.value)&&(g.value.length>0&&b(g.value),B.length>0&&k(B),f.value=!1,u())}),Ft(w,N=>{O.value=N});function te(){l.value=!1,c.value=null,R.value=0,Y.value=0}function J(N){N.target!==y.value||L.value||(a.paneClick(N),u(),f.value=!1)}function oe(N){var B;if(N.target===y.value){if(Array.isArray(s.value)&&(B=s.value)!=null&&B.includes(2)){N.preventDefault();return}a.paneContextMenu(N)}}function d(N){N.target===y.value&&a.paneScroll(N)}function $(N){if(V.value=n.value.getBoundingClientRect(),!L.value||!h||!e.isSelecting||N.button!==0||N.target!==y.value||!V.value)return;const{x:B,y:A}=li(N,V.value);u(),c.value={width:0,height:0,startX:B,startY:A,x:B,y:A},l.value=!0,a.selectionStart(N)}function v(N){if(!L.value)return a.paneMouseMove(N);if(!e.isSelecting||!V.value||!c.value)return;l.value||(l.value=!0),f.value&&(f.value=!1);const B=li(N,V.value),A=c.value.startX??0,F=c.value.startY??0,U={...c.value,x:B.x<A?B.x:A,y:B.y<F?B.y:F,width:Math.abs(B.x-A),height:Math.abs(B.y-F)},I=xa(o.value,c.value,i.value,C.value===tr.Partial),G=Ye(I,r.value);R.value=I.length,Y.value=G.length,c.value=U,p([...I,...G])}function _(N){L.value&&N.button===0&&(!l.value&&c.value&&N.target===y.value&&J(N),f.value=R.value>0,te(),a.selectionEnd(N))}function S(N){var B;if(!L.value)return a.paneMouseLeave(N);l.value&&(f.value=R.value>0,(B=a.selectionEnd)==null||B.call(a,N)),te()}function E(N){L.value||a.paneMouseEnter(N)}return(N,B)=>(K(),ae("div",{ref_key:"container",ref:y,key:`pane-${P(t)}`,class:Re(["vue-flow__pane vue-flow__container",{selection:e.isSelecting}]),onClick:J,onContextmenu:oe,onWheelPassive:d,onMouseenter:E,onMousedown:$,onMousemove:v,onMouseup:_,onMouseleave:S},[fe(N.$slots,"default"),P(l)&&P(c)?(K(),_e(Gh,{key:0,"user-selection-rect":P(c)},null,8,["user-selection-rect"])):me("",!0),P(f)&&P(m).length?(K(),_e(Xh,{key:1})):me("",!0)],34))}}),hf={class:"vue-flow__nodes vue-flow__container"},ff={name:"Nodes",compatConfig:{MODE:3}},pf=ce({...ff,setup(e){const t=st(no),{nodesDraggable:n,nodesFocusable:o,elementsSelectable:r,nodesConnectable:i,getNodes:a,getNodesInitialized:l,getNodeTypes:u,updateNodeDimensions:s,emits:c}=ve(),h=se(),f=Un();Nt(()=>a.value.length>0&&l.value.length===a.value.length).toBe(!0).then(()=>{bt(()=>{c.nodesInitialized(l.value)})}),tt(()=>{h.value=new ResizeObserver(C=>{const z=C.map(w=>({id:w.target.getAttribute("data-id"),nodeElement:w.target,forceUpdate:!0}));s(z)})}),Pi(()=>{var C;return(C=h.value)==null?void 0:C.disconnect()});function p(C){return typeof C>"u"?n.value:C}function g(C){return typeof C>"u"?r.value:C}function m(C){return typeof C>"u"?i.value:C}function k(C){return typeof C>"u"?o.value:C}function b(C,z){const w=C||"default",O=t==null?void 0:t[`node-${w}`];if(O)return O;let y=z??u.value[w];if(typeof y=="string"&&f){const R=Object.keys(f.appContext.components);R&&R.includes(w)&&(y=Ti(w,!1))}return y&&typeof y!="string"?y:(c.error(new be(we.NODE_TYPE_MISSING,y)),!1)}return(C,z)=>(K(),ae("div",hf,[h.value?(K(!0),ae(Ne,{key:0},Mt(P(a),w=>(K(),_e(P(hh),{id:w.id,key:w.id,"resize-observer":h.value,type:b(w.type,w.template),name:w.type||"default",draggable:p(w.draggable),selectable:g(w.selectable),connectable:m(w.connectable),focusable:k(w.focusable),node:w},null,8,["id","resize-observer","type","name","draggable","selectable","connectable","focusable","node"]))),128)):me("",!0)]))}}),vf=["id","markerWidth","markerHeight","markerUnits","orient"],gf=["stroke","stroke-width","fill"],mf=["stroke","stroke-width"],yf={name:"MarkerType",compatConfig:{MODE:3}},wf=ce({...yf,props:{id:null,type:null,color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(K(),ae("marker",{id:e.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${e.width}`,markerHeight:`${e.height}`,markerUnits:e.markerUnits,orient:e.orient},[e.type===P(Dn).ArrowClosed?(K(),ae("polyline",{key:0,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:e.color,points:"-5,-4 0,0 -5,4 -5,-4"},null,8,gf)):me("",!0),e.type===P(Dn).Arrow?(K(),ae("polyline",{key:1,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:"none",points:"-5,-4 0,0 -5,4"},null,8,mf)):me("",!0)],8,vf))}}),_f={name:"MarkerDefinitions",compatConfig:{MODE:3}},bf=ce({..._f,setup(e){const t=ve(),n=de(t,"id"),o=de(t,"edges"),r=de(t,"connectionLineOptions"),i=de(t,"defaultMarkerColor"),a=ee(()=>{const l=[],u=[],s=c=>{if(c){const h=rt(c,n.value);l.includes(h)||(typeof c=="object"?u.push({...c,id:h,color:c.color||i.value}):u.push({id:h,color:i.value,type:c}),l.push(h))}};return[r.value.markerEnd,r.value.markerStart].forEach(s),o.value.reduce((c,h)=>([h.markerStart,h.markerEnd].forEach(s),c.sort((f,p)=>f.id.localeCompare(p.id))),u),u});return(l,u)=>(K(),ae("defs",null,[(K(!0),ae(Ne,null,Mt(P(a),s=>(K(),_e(wf,{id:s.id,key:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,"stroke-width":s.strokeWidth,orient:s.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))]))}}),xf={class:"vue-flow__edges vue-flow__container"},kf={name:"Edges",compatConfig:{MODE:3}},$f=ce({...kf,setup(e){const t=st(no),{edgesUpdatable:n,edgesFocusable:o,elementsSelectable:r,findNode:i,getEdges:a,getEdgeTypes:l,elevateEdgesOnSelect:u,dimensions:s,emits:c}=ve(),h=Un();function f(k){return typeof k>"u"?r.value:k}function p(k){return typeof k>"u"?n.value:k}function g(k){return typeof k>"u"?o.value:k}function m(k,b){const C=k||"default",z=t==null?void 0:t[`edge-${C}`];if(z)return z;let w=b??l.value[C];if(typeof w=="string"&&h){const O=Object.keys(h.appContext.components);O&&O.includes(C)&&(w=Ti(C,!1))}return w&&typeof w!="string"?w:(c.error(new be(we.EDGE_TYPE_MISSING,w)),!1)}return(k,b)=>P(s).width&&P(s).height?(K(),ae(Ne,{key:0},[(K(),ae("svg",xf,[ie(bf)])),(K(!0),ae(Ne,null,Mt(P(a),C=>(K(),ae("svg",{key:C.id,class:"vue-flow__edges vue-flow__container",style:Pe({zIndex:P(Wd)(C,P(i),P(u))})},[ie(P(Dh),{id:C.id,edge:C,type:m(C.type,C.template),name:C.type||"default",selectable:f(C.selectable),updatable:p(C.updatable),focusable:g(C.focusable)},null,8,["id","edge","type","name","selectable","updatable","focusable"])],4))),128)),ie(P(Lh))],64)):me("",!0)}}),Ef=ye("div",{class:"vue-flow__edge-labels"},null,-1),Sf={name:"Transform",compatConfig:{MODE:3}},Mf=ce({...Sf,setup(e){const{id:t,viewport:n,d3Zoom:o,d3Selection:r,dimensions:i}=ve(),a=se(!Oi);return Nt(()=>o.value&&r.value&&i.value.width>0&&i.value.height>0).toBe(!0).then(()=>{setTimeout(()=>{a.value=!0},1)}),(l,u)=>(K(),ae("div",{key:`transform-${P(t)}`,class:"vue-flow__transformationpane vue-flow__container",style:Pe({transform:`translate(${P(n).x}px,${P(n).y}px) scale(${P(n).zoom})`,opacity:a.value?void 0:0})},[ie($f),Ef,ie(pf),fe(l.$slots,"default")],4))}}),Nf={name:"Viewport",compatConfig:{MODE:3}},Cf=ce({...Nf,setup(e){const{id:t,minZoom:n,maxZoom:o,defaultViewport:r,translateExtent:i,dimensions:a,zoomActivationKeyCode:l,selectionKeyCode:u,panActivationKeyCode:s,panOnScroll:c,panOnScrollMode:h,panOnScrollSpeed:f,panOnDrag:p,zoomOnDoubleClick:g,zoomOnPinch:m,zoomOnScroll:k,preventScrolling:b,noWheelClassName:C,noPanClassName:z,emits:w,connectionStartHandle:O,userSelectionActive:y,paneDragging:R,d3Zoom:Y,d3Selection:V,d3ZoomHandler:L,viewport:te,viewportRef:J}=ve(),oe=se(),d=se(!1),$=se(!1);let v=!1,_=0,S={x:0,y:0,zoom:0};const E=Ft(s),N=ee(()=>!d.value&&p.value&&E.value),B=ee(()=>u.value!==!0&&d.value||u.value===!0&&!N.value);tt(()=>{tu(oe,I);const D=lr();Wo(D,"resize",I)}),tt(()=>{const D=oe.value,W=D.getBoundingClientRect(),le=Td().scaleExtent([n.value,o.value]).translateExtent(i.value),x=Ce(D).call(le),M=x.on("wheel.zoom"),X=At.translate(r.value.x??0,r.value.y??0).scale(ft(r.value.zoom??1,n.value,o.value)),H=[[0,0],[W.width,W.height]],j=le.constrain()(X,H,i.value);le.transform(x,j),Y.value=le,V.value=x,L.value=M,te.value={x:j.x,y:j.y,zoom:j.k},J.value=D,Ft(u,T=>{d.value=T});const q=Ft(l);ko(()=>{d.value&&y.value&&!$.value?le.on("zoom",null):!d.value&&!y.value&&le.on("zoom",T=>{te.value={x:T.transform.x,y:T.transform.y,zoom:T.transform.k};const Q=U(T.transform);v=A(p.value,_??0),w.viewportChange(Q),w.move({event:T,flowTransform:Q})})}),le.on("start",T=>{var Q;if(!T.sourceEvent)return null;_=T.sourceEvent.button,$.value=!0;const re=U(T.transform);((Q=T.sourceEvent)==null?void 0:Q.type)==="mousedown"&&(R.value=!0),S=re,w.viewportChangeStart(re),w.moveStart({event:T,flowTransform:re})}),le.on("end",T=>{if(!T.sourceEvent)return null;if($.value=!1,R.value=!1,A(p.value,_??0)&&!v&&w.paneContextMenu(T.sourceEvent),v=!1,F(S,T.transform)){const Q=U(T.transform);S=Q,w.viewportChangeEnd(Q),w.moveEnd({event:T,flowTransform:Q})}}),ko(()=>{c.value&&!q.value&&!y.value?x.on("wheel.zoom",T=>{if(G(T,C.value))return!1;T.preventDefault(),T.stopImmediatePropagation();const Q=x.property("__zoom").k||1;if(T.ctrlKey&&m.value){const lo=Ie(T),pl=-T.deltaY*(T.deltaMode===1?.05:T.deltaMode?1:.002)*10,vl=Q*2**pl;le.scaleTo(x,vl,lo);return}const re=T.deltaMode===1?20:1,xe=h.value===Rn.Vertical?0:T.deltaX*re,vt=h.value===Rn.Horizontal?0:T.deltaY*re;le.translateBy(x,-(xe/Q)*f.value,-(vt/Q)*f.value)},{passive:!1}):typeof M<"u"&&x.on("wheel.zoom",function(T,Q){if(!b.value||G(T,C.value))return null;T.preventDefault(),M.call(this,T,Q)},{passive:!1})}),le.filter(T=>{var Q,re;const xe=q.value||k.value,vt=m.value&&T.ctrlKey;if(T.button===1&&T.type==="mousedown"&&((Q=T.target)!=null&&Q.closest(".vue-flow__node")||(re=T.target)!=null&&re.closest(".vue-flow__edge")))return!0;if(!p.value&&!xe&&!c.value&&!g.value&&!m.value||y.value||!g.value&&T.type==="dblclick"||G(T,C.value)&&T.type==="wheel"||G(T,z.value)&&T.type!=="wheel"||!m.value&&T.ctrlKey&&T.type==="wheel"||!xe&&!c.value&&!vt&&T.type==="wheel"||!p.value&&(T.type==="mousedown"||T.type==="touchstart")||Array.isArray(p.value)&&!p.value.includes(T.button)&&(T.type==="mousedown"||T.type==="touchstart"))return!1;const lo=Array.isArray(p.value)&&p.value.includes(T.button)||!T.button||T.button<=1;return(!T.ctrlKey||T.type==="wheel")&&lo})});function A(D,W){return W===2&&Array.isArray(D)&&D.includes(2)}function F(D,W){return D.x!==W.x&&!isNaN(W.x)||D.y!==W.y&&!isNaN(W.y)||D.zoom!==W.k&&!isNaN(W.k)}function U(D){return{x:D.x,y:D.y,zoom:D.k}}function I(){if(!oe.value)return;const{width:D,height:W}=Jn(oe.value);(D===0||W===0)&&w.error(new be(we.MISSING_VIEWPORT_DIMENSIONS)),a.value.width=D||500,a.value.height=W||500}function G(D,W){return D.target.closest(`.${W}`)}return(D,W)=>(K(),ae(Ne,null,[(K(),ae("div",{ref_key:"viewportEl",ref:oe,key:`viewport-${P(t)}`,class:"vue-flow__viewport vue-flow__container"},[ie(df,{"is-selecting":P(B),class:Re({connecting:!!P(O),dragging:P(R),draggable:!!P(p)})},{default:ke(()=>[ie(Mf,null,{default:ke(()=>[fe(D.$slots,"zoom-pane")]),_:3})]),_:3},8,["is-selecting","class"])])),fe(D.$slots,"default")],64))}}),zf=["id"],Af=["id"],Pf=["id"],Tf={name:"A11yDescriptions",compatConfig:{MODE:3}},Of=ce({...Tf,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=ve(),r={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"};return(i,a)=>(K(),ae(Ne,null,[ye("div",{id:`${P(fa)}-${P(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Cn(P(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,zf),ye("div",{id:`${P(pa)}-${P(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,Af),P(n)?me("",!0):(K(),ae("div",{key:0,id:`${P(Od)}-${P(t)}`,"aria-live":"assertive","aria-atomic":"true",style:r},Cn(P(o)),9,Pf))],64))}}),If={name:"VueFlow",compatConfig:{MODE:3}},Bf=ce({...If,props:{id:null,modelValue:null,nodes:null,edges:null,edgeTypes:null,nodeTypes:null,connectionMode:null,connectionLineType:null,connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:null,isValidConnection:{type:Function,default:void 0},deleteKeyCode:{type:[Boolean,String,Function],default:void 0},selectionKeyCode:{type:[Boolean,String,Function],default:void 0},multiSelectionKeyCode:{type:[Boolean,String,Function],default:void 0},zoomActivationKeyCode:{type:[Boolean,String,Function],default:void 0},panActivationKeyCode:{type:[Boolean,String,Function],default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:null,onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:Boolean,default:void 0},minZoom:null,maxZoom:null,defaultViewport:null,translateExtent:null,nodeExtent:null,defaultMarkerColor:null,zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:null,panOnScrollMode:null,zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:null,edgeUpdaterRadius:null,fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:null,noWheelClassName:null,noPanClassName:null,defaultEdgeOptions:null,elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},__experimentalFeatures:null},emits:["nodesChange","edgesChange","nodeDoubleClick","nodeClick","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeContextMenu","nodeDragStart","nodeDrag","nodeDragStop","nodesInitialized","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneReady","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdate","edgeUpdateEnd","updateNodeInternals","error","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,r=Gt(o,"modelValue",n),i=Gt(o,"nodes",n),a=Gt(o,"edges",n),{vueFlowRef:l,hooks:u,getNodeTypes:s,getEdgeTypes:c,...h}=ve(o),f=sf({modelValue:r,nodes:i,edges:a},o,{vueFlowRef:l,hooks:u,getNodeTypes:s,getEdgeTypes:c,...h});oh(n,u);const p=se();return ct(no,zi()),yl(()=>{f()}),tt(()=>{l.value=p.value}),t({vueFlowRef:l,hooks:u,getNodeTypes:s,getEdgeTypes:c,...h}),(g,m)=>(K(),ae("div",{ref_key:"el",ref:p,class:"vue-flow"},[ie(Cf,null,{nodes:ke(()=>[(K(!0),ae(Ne,null,Mt(Object.keys(P(s)),k=>fe(g.$slots,`node-${k}`)),256))]),edges:ke(()=>[(K(!0),ae(Ne,null,Mt(Object.keys(P(c)),k=>fe(g.$slots,`edge-${k}`)),256))]),"connection-name":ke(()=>[fe(g.$slots,"connection-line")]),"zoom-pane":ke(()=>[fe(g.$slots,"zoom-pane")]),default:ke(()=>[fe(g.$slots,"default")]),_:3}),ie(Of)],512))}}),Df={name:"Panel",compatConfig:{MODE:3}},Rf=ce({...Df,props:{position:null},setup(e){const t=e,{userSelectionActive:n}=ve(),o=ee(()=>`${t.position}`.split("-"));return(r,i)=>(K(),ae("div",{class:Re(["vue-flow__panel",P(o)]),style:Pe({pointerEvents:P(n)?"none":"all"})},[fe(r.$slots,"default")],6))}}),Vf=["x","y","width","height"],Lf=["stroke","stroke-width","d"],Hf=["cx","cy","r","fill"],jf={key:2,height:"100",width:"100"},Xf=["fill"],Yf=["x","y","fill"],Gf={name:"Background"},Ff=ce({...Gf,props:{variant:{default:()=>"dots"},gap:{default:10},size:{default:.4},patternColor:null,bgColor:null,height:{default:100},width:{default:100},x:{default:0},y:{default:0}},setup(e){const t={dots:"#81818a",lines:"#eee"},{id:n,viewport:o}=ve(),r=ee(()=>{const u=e.gap&&e.gap*o.value.zoom,s=u&&o.value.x%u,c=u&&o.value.y%u,h=e.size*o.value.zoom;return{scaledGap:u,xOffset:s,yOffset:c,size:h}}),i=`pattern-${n}`,a=ee(()=>e.patternColor||t[e.variant||"dots"]),l=ee(()=>`M${r.value.scaledGap/2} 0 V${r.value.scaledGap} M0 ${r.value.scaledGap/2} H${r.value.scaledGap}`);return(u,s)=>(K(),ae("svg",{class:"vue-flow__background",style:Pe({height:`${e.height>100?100:e.height}%`,width:`${e.width>100?100:e.width}%`})},[fe(u.$slots,"pattern-container",{id:i},()=>[ye("pattern",{id:i,x:r.value.xOffset,y:r.value.yOffset,width:r.value.scaledGap,height:r.value.scaledGap,patternUnits:"userSpaceOnUse"},[fe(u.$slots,"pattern",{},()=>[e.variant==="lines"?(K(),ae("path",{key:0,stroke:P(a),"stroke-width":e.size,d:P(l)},null,8,Lf)):e.variant==="dots"?(K(),ae("circle",{key:1,cx:r.value.size,cy:r.value.size,r:r.value.size,fill:P(a)},null,8,Hf)):me("",!0),e.bgColor?(K(),ae("svg",jf,[ye("rect",{width:"100%",height:"100%",fill:e.bgColor},null,8,Xf)])):me("",!0)])],8,Vf)]),ye("rect",{x:e.x,y:e.y,width:"100%",height:"100%",fill:`url(#${i})`},null,8,Yf),fe(u.$slots,"default",{id:i})],4))}}),La=ce({__name:"Panel",props:{position:null},setup(e){const t=e,{userSelectionActive:n}=ve(),o=ee(()=>`${t.position}`.split("-"));return(r,i)=>(K(),ae("div",{class:Re(["vue-flow__panel",P(o)]),style:Pe({pointerEvents:P(n)?"none":"all"})},[fe(r.$slots,"default")],6))}}),Uf={name:"ControlButton"},Wf=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},Zf={class:"vue-flow__controls-button"};function qf(e,t,n,o,r,i){return K(),ae("button",Zf,[fe(e.$slots,"default")])}const vn=Wf(Uf,[["render",qf]]),Kf={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Jf=ye("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),Qf=[Jf];function ep(e,t){return K(),ae("svg",Kf,Qf)}const tp={render:ep},np={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},op=ye("path",{d:"M0 0h32v4.2H0z"},null,-1),rp=[op];function ip(e,t){return K(),ae("svg",np,rp)}const ap={render:ip},lp={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},up=ye("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),sp=[up];function cp(e,t){return K(),ae("svg",lp,sp)}const dp={render:cp},hp={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},fp=ye("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),pp=[fp];function vp(e,t){return K(),ae("svg",hp,pp)}const gp={render:vp},mp={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},yp=ye("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),wp=[yp];function _p(e,t){return K(),ae("svg",mp,wp)}const bp={render:_p},xp={name:"Controls"},kp=ce({...xp,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:null,position:{default:()=>"bottom-left"}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const n=ve(),o=de(n,"nodesDraggable"),r=de(n,"nodesConnectable"),i=de(n,"elementsSelectable"),a=de(n,"setInteractive"),l=de(n,"zoomIn"),u=de(n,"zoomOut"),s=de(n,"fitView"),c=ee(()=>o.value&&r.value&&i.value),h=()=>{l.value(),t("zoomIn")},f=()=>{u.value(),t("zoomOut")},p=()=>{s.value(e.fitViewParams),t("fitView")},g=()=>{a.value(!c.value),t("interactionChange",!c.value)};return(m,k)=>(K(),_e(P(La),{class:"vue-flow__controls",position:e.position},{default:ke(()=>[fe(m.$slots,"top"),e.showZoom?(K(),ae(Ne,{key:0},[fe(m.$slots,"control-zoom-in",{},()=>[ie(vn,{class:"vue-flow__controls-zoomin",onClick:h},{default:ke(()=>[fe(m.$slots,"icon-zoom-in",{},()=>[(K(),_e(mt(P(tp))))])]),_:3})]),fe(m.$slots,"control-zoom-out",{},()=>[ie(vn,{class:"vue-flow__controls-zoomout",onClick:f},{default:ke(()=>[fe(m.$slots,"icon-zoom-out",{},()=>[(K(),_e(mt(P(ap))))])]),_:3})])],64)):me("",!0),e.showFitView?fe(m.$slots,"control-fit-view",{key:1},()=>[ie(vn,{class:"vue-flow__controls-fitview",onClick:p},{default:ke(()=>[fe(m.$slots,"icon-fit-view",{},()=>[(K(),_e(mt(P(dp))))])]),_:3})]):me("",!0),e.showInteractive?fe(m.$slots,"control-interactive",{key:2},()=>[e.showInteractive?(K(),_e(vn,{key:0,class:"vue-flow__controls-interactive",onClick:g},{default:ke(()=>[P(c)?fe(m.$slots,"icon-unlock",{key:0},()=>[(K(),_e(mt(P(bp))))]):me("",!0),P(c)?me("",!0):fe(m.$slots,"icon-lock",{key:1},()=>[(K(),_e(mt(P(gp))))])]),_:3})):me("",!0)]):me("",!0),fe(m.$slots,"default")]),_:3},8,["position"]))}});var $p={value:()=>{}};function ur(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new En(n)}function En(e){this._=e}function Ep(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}En.prototype=ur.prototype={constructor:En,on:function(e,t){var n=this._,o=Ep(e+"",n),r,i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((r=(e=o[i]).type)&&(r=Sp(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(r=(e=o[i]).type)n[r]=ui(n[r],e.name,t);else if(t==null)for(r in n)n[r]=ui(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new En(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,i;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};function Sp(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function ui(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=$p,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ro="http://www.w3.org/1999/xhtml";const si={svg:"http://www.w3.org/2000/svg",xhtml:Ro,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ro(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),si.hasOwnProperty(t)?{space:si[t],local:e}:e}function Mp(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ro&&t.documentElement.namespaceURI===Ro?t.createElement(e):t.createElementNS(n,e)}}function Np(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ha(e){var t=ro(e);return(t.local?Np:Mp)(t)}function Cp(){}function sr(e){return e==null?Cp:function(){return this.querySelector(e)}}function zp(e){typeof e!="function"&&(e=sr(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,l=o[r]=new Array(a),u,s,c=0;c<a;++c)(u=i[c])&&(s=e.call(u,u.__data__,c,i))&&("__data__"in u&&(s.__data__=u.__data__),l[c]=s);return new Me(o,this._parents)}function Ap(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Pp(){return[]}function ja(e){return e==null?Pp:function(){return this.querySelectorAll(e)}}function Tp(e){return function(){return Ap(e.apply(this,arguments))}}function Op(e){typeof e=="function"?e=Tp(e):e=ja(e);for(var t=this._groups,n=t.length,o=[],r=[],i=0;i<n;++i)for(var a=t[i],l=a.length,u,s=0;s<l;++s)(u=a[s])&&(o.push(e.call(u,u.__data__,s,a)),r.push(u));return new Me(o,r)}function Xa(e){return function(){return this.matches(e)}}function Ya(e){return function(t){return t.matches(e)}}var Ip=Array.prototype.find;function Bp(e){return function(){return Ip.call(this.children,e)}}function Dp(){return this.firstElementChild}function Rp(e){return this.select(e==null?Dp:Bp(typeof e=="function"?e:Ya(e)))}var Vp=Array.prototype.filter;function Lp(){return Array.from(this.children)}function Hp(e){return function(){return Vp.call(this.children,e)}}function jp(e){return this.selectAll(e==null?Lp:Hp(typeof e=="function"?e:Ya(e)))}function Xp(e){typeof e!="function"&&(e=Xa(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,l=o[r]=[],u,s=0;s<a;++s)(u=i[s])&&e.call(u,u.__data__,s,i)&&l.push(u);return new Me(o,this._parents)}function Ga(e){return new Array(e.length)}function Yp(){return new Me(this._enter||this._groups.map(Ga),this._parents)}function Hn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Hn.prototype={constructor:Hn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Gp(e){return function(){return e}}function Fp(e,t,n,o,r,i){for(var a=0,l,u=t.length,s=i.length;a<s;++a)(l=t[a])?(l.__data__=i[a],o[a]=l):n[a]=new Hn(e,i[a]);for(;a<u;++a)(l=t[a])&&(r[a]=l)}function Up(e,t,n,o,r,i,a){var l,u,s=new Map,c=t.length,h=i.length,f=new Array(c),p;for(l=0;l<c;++l)(u=t[l])&&(f[l]=p=a.call(u,u.__data__,l,t)+"",s.has(p)?r[l]=u:s.set(p,u));for(l=0;l<h;++l)p=a.call(e,i[l],l,i)+"",(u=s.get(p))?(o[l]=u,u.__data__=i[l],s.delete(p)):n[l]=new Hn(e,i[l]);for(l=0;l<c;++l)(u=t[l])&&s.get(f[l])===u&&(r[l]=u)}function Wp(e){return e.__data__}function Zp(e,t){if(!arguments.length)return Array.from(this,Wp);var n=t?Up:Fp,o=this._parents,r=this._groups;typeof e!="function"&&(e=Gp(e));for(var i=r.length,a=new Array(i),l=new Array(i),u=new Array(i),s=0;s<i;++s){var c=o[s],h=r[s],f=h.length,p=qp(e.call(c,c&&c.__data__,s,o)),g=p.length,m=l[s]=new Array(g),k=a[s]=new Array(g),b=u[s]=new Array(f);n(c,h,m,k,b,p,t);for(var C=0,z=0,w,O;C<g;++C)if(w=m[C]){for(C>=z&&(z=C+1);!(O=k[z])&&++z<g;);w._next=O||null}}return a=new Me(a,o),a._enter=l,a._exit=u,a}function qp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Kp(){return new Me(this._exit||this._groups.map(Ga),this._parents)}function Jp(e,t,n){var o=this.enter(),r=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),o&&r?o.merge(r).order():r}function Qp(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,a=Math.min(r,i),l=new Array(r),u=0;u<a;++u)for(var s=n[u],c=o[u],h=s.length,f=l[u]=new Array(h),p,g=0;g<h;++g)(p=s[g]||c[g])&&(f[g]=p);for(;u<r;++u)l[u]=n[u];return new Me(l,this._parents)}function ev(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,i=o[r],a;--r>=0;)(a=o[r])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function tv(e){e||(e=nv);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var a=n[i],l=a.length,u=r[i]=new Array(l),s,c=0;c<l;++c)(s=a[c])&&(u[c]=s);u.sort(t)}return new Me(r,this._parents).order()}function nv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ov(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function rv(){return Array.from(this)}function iv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var a=o[r];if(a)return a}return null}function av(){let e=0;for(const t of this)++e;return e}function lv(){return!this.node()}function uv(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],i=0,a=r.length,l;i<a;++i)(l=r[i])&&e.call(l,l.__data__,i,r);return this}function sv(e){return function(){this.removeAttribute(e)}}function cv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dv(e,t){return function(){this.setAttribute(e,t)}}function hv(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function fv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function pv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function vv(e,t){var n=ro(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?cv:sv:typeof t=="function"?n.local?pv:fv:n.local?hv:dv)(n,t))}function Fa(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function gv(e){return function(){this.style.removeProperty(e)}}function mv(e,t,n){return function(){this.style.setProperty(e,t,n)}}function yv(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function wv(e,t,n){return arguments.length>1?this.each((t==null?gv:typeof t=="function"?yv:mv)(e,t,n??"")):Ot(this.node(),e)}function Ot(e,t){return e.style.getPropertyValue(t)||Fa(e).getComputedStyle(e,null).getPropertyValue(t)}function _v(e){return function(){delete this[e]}}function bv(e,t){return function(){this[e]=t}}function xv(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function kv(e,t){return arguments.length>1?this.each((t==null?_v:typeof t=="function"?xv:bv)(e,t)):this.node()[e]}function Ua(e){return e.trim().split(/^|\s+/)}function cr(e){return e.classList||new Wa(e)}function Wa(e){this._node=e,this._names=Ua(e.getAttribute("class")||"")}Wa.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Za(e,t){for(var n=cr(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function qa(e,t){for(var n=cr(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function $v(e){return function(){Za(this,e)}}function Ev(e){return function(){qa(this,e)}}function Sv(e,t){return function(){(t.apply(this,arguments)?Za:qa)(this,e)}}function Mv(e,t){var n=Ua(e+"");if(arguments.length<2){for(var o=cr(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?Sv:t?$v:Ev)(n,t))}function Nv(){this.textContent=""}function Cv(e){return function(){this.textContent=e}}function zv(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Av(e){return arguments.length?this.each(e==null?Nv:(typeof e=="function"?zv:Cv)(e)):this.node().textContent}function Pv(){this.innerHTML=""}function Tv(e){return function(){this.innerHTML=e}}function Ov(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Iv(e){return arguments.length?this.each(e==null?Pv:(typeof e=="function"?Ov:Tv)(e)):this.node().innerHTML}function Bv(){this.nextSibling&&this.parentNode.appendChild(this)}function Dv(){return this.each(Bv)}function Rv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Vv(){return this.each(Rv)}function Lv(e){var t=typeof e=="function"?e:Ha(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Hv(){return null}function jv(e,t){var n=typeof e=="function"?e:Ha(e),o=t==null?Hv:typeof t=="function"?t:sr(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Xv(){var e=this.parentNode;e&&e.removeChild(this)}function Yv(){return this.each(Xv)}function Gv(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Fv(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Uv(e){return this.select(e?Fv:Gv)}function Wv(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Zv(e){return function(t){e.call(this,t,this.__data__)}}function qv(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Kv(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++o]=i;++o?t.length=o:delete this.__on}}}function Jv(e,t,n){return function(){var o=this.__on,r,i=Zv(t);if(o){for(var a=0,l=o.length;a<l;++a)if((r=o[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Qv(e,t,n){var o=qv(e+""),r,i=o.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,s=l.length,c;u<s;++u)for(r=0,c=l[u];r<i;++r)if((a=o[r]).type===c.type&&a.name===c.name)return c.value}return}for(l=t?Jv:Kv,r=0;r<i;++r)this.each(l(o[r],t,n));return this}function Ka(e,t,n){var o=Fa(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function eg(e,t){return function(){return Ka(this,e,t)}}function tg(e,t){return function(){return Ka(this,e,t.apply(this,arguments))}}function ng(e,t){return this.each((typeof t=="function"?tg:eg)(e,t))}function*og(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length,a;r<i;++r)(a=o[r])&&(yield a)}var Ja=[null];function Me(e,t){this._groups=e,this._parents=t}function an(){return new Me([[document.documentElement]],Ja)}function rg(){return this}Me.prototype=an.prototype={constructor:Me,select:zp,selectAll:Op,selectChild:Rp,selectChildren:jp,filter:Xp,data:Zp,enter:Yp,exit:Kp,join:Jp,merge:Qp,selection:rg,order:ev,sort:tv,call:ov,nodes:rv,node:iv,size:av,empty:lv,each:uv,attr:vv,style:wv,property:kv,classed:Mv,text:Av,html:Iv,raise:Dv,lower:Vv,append:Lv,insert:jv,remove:Yv,clone:Uv,datum:Wv,on:Qv,dispatch:ng,[Symbol.iterator]:og};function Qe(e){return typeof e=="string"?new Me([[document.querySelector(e)]],[document.documentElement]):new Me([[e]],Ja)}function ig(e){let t;for(;t=e.sourceEvent;)e=t;return e}function qe(e,t){if(e=ig(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Vo={capture:!0,passive:!1};function Lo(e){e.preventDefault(),e.stopImmediatePropagation()}function ag(e){var t=e.document.documentElement,n=Qe(e).on("dragstart.drag",Lo,Vo);"onselectstart"in t?n.on("selectstart.drag",Lo,Vo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function lg(e,t){var n=e.document.documentElement,o=Qe(e).on("dragstart.drag",null);t&&(o.on("click.drag",Lo,Vo),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function dr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Qa(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function ln(){}var Jt=.7,jn=1/Jt,St="\\s*([+-]?\\d+)\\s*",Qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",De="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ug=/^#([0-9a-f]{3,8})$/,sg=new RegExp(`^rgb\\(${St},${St},${St}\\)$`),cg=new RegExp(`^rgb\\(${De},${De},${De}\\)$`),dg=new RegExp(`^rgba\\(${St},${St},${St},${Qt}\\)$`),hg=new RegExp(`^rgba\\(${De},${De},${De},${Qt}\\)$`),fg=new RegExp(`^hsl\\(${Qt},${De},${De}\\)$`),pg=new RegExp(`^hsla\\(${Qt},${De},${De},${Qt}\\)$`),ci={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dr(ln,en,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:di,formatHex:di,formatHex8:vg,formatHsl:gg,formatRgb:hi,toString:hi});function di(){return this.rgb().formatHex()}function vg(){return this.rgb().formatHex8()}function gg(){return el(this).formatHsl()}function hi(){return this.rgb().formatRgb()}function en(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ug.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fi(t):n===3?new Ee(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?gn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?gn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sg.exec(e))?new Ee(t[1],t[2],t[3],1):(t=cg.exec(e))?new Ee(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dg.exec(e))?gn(t[1],t[2],t[3],t[4]):(t=hg.exec(e))?gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fg.exec(e))?gi(t[1],t[2]/100,t[3]/100,1):(t=pg.exec(e))?gi(t[1],t[2]/100,t[3]/100,t[4]):ci.hasOwnProperty(e)?fi(ci[e]):e==="transparent"?new Ee(NaN,NaN,NaN,0):null}function fi(e){return new Ee(e>>16&255,e>>8&255,e&255,1)}function gn(e,t,n,o){return o<=0&&(e=t=n=NaN),new Ee(e,t,n,o)}function mg(e){return e instanceof ln||(e=en(e)),e?(e=e.rgb(),new Ee(e.r,e.g,e.b,e.opacity)):new Ee}function Ho(e,t,n,o){return arguments.length===1?mg(e):new Ee(e,t,n,o??1)}function Ee(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}dr(Ee,Ho,Qa(ln,{brighter(e){return e=e==null?jn:Math.pow(jn,e),new Ee(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jt:Math.pow(Jt,e),new Ee(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ee(ut(this.r),ut(this.g),ut(this.b),Xn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pi,formatHex:pi,formatHex8:yg,formatRgb:vi,toString:vi}));function pi(){return`#${it(this.r)}${it(this.g)}${it(this.b)}`}function yg(){return`#${it(this.r)}${it(this.g)}${it(this.b)}${it((isNaN(this.opacity)?1:this.opacity)*255)}`}function vi(){const e=Xn(this.opacity);return`${e===1?"rgb(":"rgba("}${ut(this.r)}, ${ut(this.g)}, ${ut(this.b)}${e===1?")":`, ${e})`}`}function Xn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ut(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function it(e){return e=ut(e),(e<16?"0":"")+e.toString(16)}function gi(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ae(e,t,n,o)}function el(e){if(e instanceof Ae)return new Ae(e.h,e.s,e.l,e.opacity);if(e instanceof ln||(e=en(e)),!e)return new Ae;if(e instanceof Ae)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),a=NaN,l=i-r,u=(i+r)/2;return l?(t===i?a=(n-o)/l+(n<o)*6:n===i?a=(o-t)/l+2:a=(t-n)/l+4,l/=u<.5?i+r:2-i-r,a*=60):l=u>0&&u<1?0:a,new Ae(a,l,u,e.opacity)}function wg(e,t,n,o){return arguments.length===1?el(e):new Ae(e,t,n,o??1)}function Ae(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}dr(Ae,wg,Qa(ln,{brighter(e){return e=e==null?jn:Math.pow(jn,e),new Ae(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jt:Math.pow(Jt,e),new Ae(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new Ee(_o(e>=240?e-240:e+120,r,o),_o(e,r,o),_o(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Ae(mi(this.h),mn(this.s),mn(this.l),Xn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xn(this.opacity);return`${e===1?"hsl(":"hsla("}${mi(this.h)}, ${mn(this.s)*100}%, ${mn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mi(e){return e=(e||0)%360,e<0?e+360:e}function mn(e){return Math.max(0,Math.min(1,e||0))}function _o(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const tl=e=>()=>e;function _g(e,t){return function(n){return e+n*t}}function bg(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function xg(e){return(e=+e)==1?nl:function(t,n){return n-t?bg(t,n,e):tl(isNaN(t)?n:t)}}function nl(e,t){var n=t-e;return n?_g(e,n):tl(isNaN(e)?t:e)}const yi=function e(t){var n=xg(t);function o(r,i){var a=n((r=Ho(r)).r,(i=Ho(i)).r),l=n(r.g,i.g),u=n(r.b,i.b),s=nl(r.opacity,i.opacity);return function(c){return r.r=a(c),r.g=l(c),r.b=u(c),r.opacity=s(c),r+""}}return o.gamma=e,o}(1);function Je(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var jo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bo=new RegExp(jo.source,"g");function kg(e){return function(){return e}}function $g(e){return function(t){return e(t)+""}}function Eg(e,t){var n=jo.lastIndex=bo.lastIndex=0,o,r,i,a=-1,l=[],u=[];for(e=e+"",t=t+"";(o=jo.exec(e))&&(r=bo.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),l[a]?l[a]+=i:l[++a]=i),(o=o[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,u.push({i:a,x:Je(o,r)})),n=bo.lastIndex;return n<t.length&&(i=t.slice(n),l[a]?l[a]+=i:l[++a]=i),l.length<2?u[0]?$g(u[0].x):kg(t):(t=u.length,function(s){for(var c=0,h;c<t;++c)l[(h=u[c]).i]=h.x(s);return l.join("")})}var wi=180/Math.PI,ol={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rl(e,t,n,o,r,i){var a,l,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*o)&&(n-=e*u,o-=t*u),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,u/=l),e*o<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*wi,skewX:Math.atan(u)*wi,scaleX:a,scaleY:l}}var yn;function Sg(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ol:rl(t.a,t.b,t.c,t.d,t.e,t.f)}function Mg(e){return e==null||(yn||(yn=document.createElementNS("http://www.w3.org/2000/svg","g")),yn.setAttribute("transform",e),!(e=yn.transform.baseVal.consolidate()))?ol:(e=e.matrix,rl(e.a,e.b,e.c,e.d,e.e,e.f))}function il(e,t,n,o){function r(s){return s.length?s.pop()+" ":""}function i(s,c,h,f,p,g){if(s!==h||c!==f){var m=p.push("translate(",null,t,null,n);g.push({i:m-4,x:Je(s,h)},{i:m-2,x:Je(c,f)})}else(h||f)&&p.push("translate("+h+t+f+n)}function a(s,c,h,f){s!==c?(s-c>180?c+=360:c-s>180&&(s+=360),f.push({i:h.push(r(h)+"rotate(",null,o)-2,x:Je(s,c)})):c&&h.push(r(h)+"rotate("+c+o)}function l(s,c,h,f){s!==c?f.push({i:h.push(r(h)+"skewX(",null,o)-2,x:Je(s,c)}):c&&h.push(r(h)+"skewX("+c+o)}function u(s,c,h,f,p,g){if(s!==h||c!==f){var m=p.push(r(p)+"scale(",null,",",null,")");g.push({i:m-4,x:Je(s,h)},{i:m-2,x:Je(c,f)})}else(h!==1||f!==1)&&p.push(r(p)+"scale("+h+","+f+")")}return function(s,c){var h=[],f=[];return s=e(s),c=e(c),i(s.translateX,s.translateY,c.translateX,c.translateY,h,f),a(s.rotate,c.rotate,h,f),l(s.skewX,c.skewX,h,f),u(s.scaleX,s.scaleY,c.scaleX,c.scaleY,h,f),s=c=null,function(p){for(var g=-1,m=f.length,k;++g<m;)h[(k=f[g]).i]=k.x(p);return h.join("")}}}var Ng=il(Sg,"px, ","px)","deg)"),Cg=il(Mg,", ",")",")"),zg=1e-12;function _i(e){return((e=Math.exp(e))+1/e)/2}function Ag(e){return((e=Math.exp(e))-1/e)/2}function Pg(e){return((e=Math.exp(2*e))-1)/(e+1)}const Tg=function e(t,n,o){function r(i,a){var l=i[0],u=i[1],s=i[2],c=a[0],h=a[1],f=a[2],p=c-l,g=h-u,m=p*p+g*g,k,b;if(m<zg)b=Math.log(f/s)/t,k=function(R){return[l+R*p,u+R*g,s*Math.exp(t*R*b)]};else{var C=Math.sqrt(m),z=(f*f-s*s+o*m)/(2*s*n*C),w=(f*f-s*s-o*m)/(2*f*n*C),O=Math.log(Math.sqrt(z*z+1)-z),y=Math.log(Math.sqrt(w*w+1)-w);b=(y-O)/t,k=function(R){var Y=R*b,V=_i(O),L=s/(n*C)*(V*Pg(t*Y+O)-Ag(O));return[l+L*p,u+L*g,s*V/_i(t*Y+O)]}}return k.duration=b*1e3*t/Math.SQRT2,k}return r.rho=function(i){var a=Math.max(.001,+i),l=a*a,u=l*l;return e(a,l,u)},r}(Math.SQRT2,2,4);var It=0,Xt=0,Rt=0,al=1e3,Yn,Yt,Gn=0,pt=0,io=0,tn=typeof performance=="object"&&performance.now?performance:Date,ll=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function hr(){return pt||(ll(Og),pt=tn.now()+io)}function Og(){pt=0}function Fn(){this._call=this._time=this._next=null}Fn.prototype=ul.prototype={constructor:Fn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?hr():+n)+(t==null?0:+t),!this._next&&Yt!==this&&(Yt?Yt._next=this:Yn=this,Yt=this),this._call=e,this._time=n,Xo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xo())}};function ul(e,t,n){var o=new Fn;return o.restart(e,t,n),o}function Ig(){hr(),++It;for(var e=Yn,t;e;)(t=pt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--It}function bi(){pt=(Gn=tn.now())+io,It=Xt=0;try{Ig()}finally{It=0,Dg(),pt=0}}function Bg(){var e=tn.now(),t=e-Gn;t>al&&(io-=t,Gn=e)}function Dg(){for(var e,t=Yn,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Yn=n);Yt=e,Xo(o)}function Xo(e){if(!It){Xt&&(Xt=clearTimeout(Xt));var t=e-pt;t>24?(e<1/0&&(Xt=setTimeout(bi,e-tn.now()-io)),Rt&&(Rt=clearInterval(Rt))):(Rt||(Gn=tn.now(),Rt=setInterval(Bg,al)),It=1,ll(bi))}}function xi(e,t,n){var o=new Fn;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var Rg=ur("start","end","cancel","interrupt"),Vg=[],sl=0,ki=1,Yo=2,Sn=3,$i=4,Go=5,Mn=6;function ao(e,t,n,o,r,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Lg(e,n,{name:t,index:o,group:r,on:Rg,tween:Vg,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:sl})}function fr(e,t){var n=Oe(e,t);if(n.state>sl)throw new Error("too late; already scheduled");return n}function Le(e,t){var n=Oe(e,t);if(n.state>Sn)throw new Error("too late; already running");return n}function Oe(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Lg(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=ul(i,0,n.time);function i(s){n.state=ki,n.timer.restart(a,n.delay,n.time),n.delay<=s&&a(s-n.delay)}function a(s){var c,h,f,p;if(n.state!==ki)return u();for(c in o)if(p=o[c],p.name===n.name){if(p.state===Sn)return xi(a);p.state===$i?(p.state=Mn,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[c]):+c<t&&(p.state=Mn,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[c])}if(xi(function(){n.state===Sn&&(n.state=$i,n.timer.restart(l,n.delay,n.time),l(s))}),n.state=Yo,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Yo){for(n.state=Sn,r=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++h]=p);r.length=h+1}}function l(s){for(var c=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(u),n.state=Go,1),h=-1,f=r.length;++h<f;)r[h].call(e,c);n.state===Go&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Mn,n.timer.stop(),delete o[t];for(var s in o)return;delete e.__transition}}function Nn(e,t){var n=e.__transition,o,r,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){i=!1;continue}r=o.state>Yo&&o.state<Go,o.state=Mn,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}i&&delete e.__transition}}function Hg(e){return this.each(function(){Nn(this,e)})}function jg(e,t){var n,o;return function(){var r=Le(this,e),i=r.tween;if(i!==n){o=n=i;for(var a=0,l=o.length;a<l;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}r.tween=o}}function Xg(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var i=Le(this,e),a=i.tween;if(a!==o){r=(o=a).slice();for(var l={name:t,value:n},u=0,s=r.length;u<s;++u)if(r[u].name===t){r[u]=l;break}u===s&&r.push(l)}i.tween=r}}function Yg(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Oe(this.node(),n).tween,r=0,i=o.length,a;r<i;++r)if((a=o[r]).name===e)return a.value;return null}return this.each((t==null?jg:Xg)(n,e,t))}function pr(e,t,n){var o=e._id;return e.each(function(){var r=Le(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Oe(r,o).value[t]}}function cl(e,t){var n;return(typeof t=="number"?Je:t instanceof en?yi:(n=en(t))?(t=n,yi):Eg)(e,t)}function Gg(e){return function(){this.removeAttribute(e)}}function Fg(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ug(e,t,n){var o,r=n+"",i;return function(){var a=this.getAttribute(e);return a===r?null:a===o?i:i=t(o=a,n)}}function Wg(e,t,n){var o,r=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===o?i:i=t(o=a,n)}}function Zg(e,t,n){var o,r,i;return function(){var a,l=n(this),u;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=l+"",a===u?null:a===o&&u===r?i:(r=u,i=t(o=a,l)))}}function qg(e,t,n){var o,r,i;return function(){var a,l=n(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=l+"",a===u?null:a===o&&u===r?i:(r=u,i=t(o=a,l)))}}function Kg(e,t){var n=ro(e),o=n==="transform"?Cg:cl;return this.attrTween(e,typeof t=="function"?(n.local?qg:Zg)(n,o,pr(this,"attr."+e,t)):t==null?(n.local?Fg:Gg)(n):(n.local?Wg:Ug)(n,o,t))}function Jg(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Qg(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function em(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&Qg(e,i)),n}return r._value=t,r}function tm(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&Jg(e,i)),n}return r._value=t,r}function nm(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=ro(e);return this.tween(n,(o.local?em:tm)(o,t))}function om(e,t){return function(){fr(this,e).delay=+t.apply(this,arguments)}}function rm(e,t){return t=+t,function(){fr(this,e).delay=t}}function im(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?om:rm)(t,e)):Oe(this.node(),t).delay}function am(e,t){return function(){Le(this,e).duration=+t.apply(this,arguments)}}function lm(e,t){return t=+t,function(){Le(this,e).duration=t}}function um(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?am:lm)(t,e)):Oe(this.node(),t).duration}function sm(e,t){if(typeof t!="function")throw new Error;return function(){Le(this,e).ease=t}}function cm(e){var t=this._id;return arguments.length?this.each(sm(t,e)):Oe(this.node(),t).ease}function dm(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Le(this,e).ease=n}}function hm(e){if(typeof e!="function")throw new Error;return this.each(dm(this._id,e))}function fm(e){typeof e!="function"&&(e=Xa(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,l=o[r]=[],u,s=0;s<a;++s)(u=i[s])&&e.call(u,u.__data__,s,i)&&l.push(u);return new Ze(o,this._parents,this._name,this._id)}function pm(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),a=new Array(o),l=0;l<i;++l)for(var u=t[l],s=n[l],c=u.length,h=a[l]=new Array(c),f,p=0;p<c;++p)(f=u[p]||s[p])&&(h[p]=f);for(;l<o;++l)a[l]=t[l];return new Ze(a,this._parents,this._name,this._id)}function vm(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function gm(e,t,n){var o,r,i=vm(t)?fr:Le;return function(){var a=i(this,e),l=a.on;l!==o&&(r=(o=l).copy()).on(t,n),a.on=r}}function mm(e,t){var n=this._id;return arguments.length<2?Oe(this.node(),n).on.on(e):this.each(gm(n,e,t))}function ym(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function wm(){return this.on("end.remove",ym(this._id))}function _m(e){var t=this._name,n=this._id;typeof e!="function"&&(e=sr(e));for(var o=this._groups,r=o.length,i=new Array(r),a=0;a<r;++a)for(var l=o[a],u=l.length,s=i[a]=new Array(u),c,h,f=0;f<u;++f)(c=l[f])&&(h=e.call(c,c.__data__,f,l))&&("__data__"in c&&(h.__data__=c.__data__),s[f]=h,ao(s[f],t,n,f,s,Oe(c,n)));return new Ze(i,this._parents,t,n)}function bm(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ja(e));for(var o=this._groups,r=o.length,i=[],a=[],l=0;l<r;++l)for(var u=o[l],s=u.length,c,h=0;h<s;++h)if(c=u[h]){for(var f=e.call(c,c.__data__,h,u),p,g=Oe(c,n),m=0,k=f.length;m<k;++m)(p=f[m])&&ao(p,t,n,m,f,g);i.push(f),a.push(c)}return new Ze(i,a,t,n)}var xm=an.prototype.constructor;function km(){return new xm(this._groups,this._parents)}function $m(e,t){var n,o,r;return function(){var i=Ot(this,e),a=(this.style.removeProperty(e),Ot(this,e));return i===a?null:i===n&&a===o?r:r=t(n=i,o=a)}}function dl(e){return function(){this.style.removeProperty(e)}}function Em(e,t,n){var o,r=n+"",i;return function(){var a=Ot(this,e);return a===r?null:a===o?i:i=t(o=a,n)}}function Sm(e,t,n){var o,r,i;return function(){var a=Ot(this,e),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),Ot(this,e))),a===u?null:a===o&&u===r?i:(r=u,i=t(o=a,l))}}function Mm(e,t){var n,o,r,i="style."+t,a="end."+i,l;return function(){var u=Le(this,e),s=u.on,c=u.value[i]==null?l||(l=dl(t)):void 0;(s!==n||r!==c)&&(o=(n=s).copy()).on(a,r=c),u.on=o}}function Nm(e,t,n){var o=(e+="")=="transform"?Ng:cl;return t==null?this.styleTween(e,$m(e,o)).on("end.style."+e,dl(e)):typeof t=="function"?this.styleTween(e,Sm(e,o,pr(this,"style."+e,t))).each(Mm(this._id,e)):this.styleTween(e,Em(e,o,t),n).on("end.style."+e,null)}function Cm(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function zm(e,t,n){var o,r;function i(){var a=t.apply(this,arguments);return a!==r&&(o=(r=a)&&Cm(e,a,n)),o}return i._value=t,i}function Am(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,zm(e,t,n??""))}function Pm(e){return function(){this.textContent=e}}function Tm(e){return function(){var t=e(this);this.textContent=t??""}}function Om(e){return this.tween("text",typeof e=="function"?Tm(pr(this,"text",e)):Pm(e==null?"":e+""))}function Im(e){return function(t){this.textContent=e.call(this,t)}}function Bm(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Im(r)),t}return o._value=e,o}function Dm(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Bm(e))}function Rm(){for(var e=this._name,t=this._id,n=hl(),o=this._groups,r=o.length,i=0;i<r;++i)for(var a=o[i],l=a.length,u,s=0;s<l;++s)if(u=a[s]){var c=Oe(u,t);ao(u,e,n,s,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ze(o,this._parents,e,n)}function Vm(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(i,a){var l={value:a},u={value:function(){--r===0&&i()}};n.each(function(){var s=Le(this,o),c=s.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),s.on=t}),r===0&&i()})}var Lm=0;function Ze(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function hl(){return++Lm}var je=an.prototype;Ze.prototype={constructor:Ze,select:_m,selectAll:bm,selectChild:je.selectChild,selectChildren:je.selectChildren,filter:fm,merge:pm,selection:km,transition:Rm,call:je.call,nodes:je.nodes,node:je.node,size:je.size,empty:je.empty,each:je.each,on:mm,attr:Kg,attrTween:nm,style:Nm,styleTween:Am,text:Om,textTween:Dm,remove:wm,tween:Yg,delay:im,duration:um,ease:cm,easeVarying:hm,end:Vm,[Symbol.iterator]:je[Symbol.iterator]};function Hm(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var jm={time:null,delay:0,duration:250,ease:Hm};function Xm(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Ym(e){var t,n;e instanceof Ze?(t=e._id,e=e._name):(t=hl(),(n=jm).time=hr(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var a=o[i],l=a.length,u,s=0;s<l;++s)(u=a[s])&&ao(u,e,t,s,a,n||Xm(u,t));return new Ze(o,this._parents,e,t)}an.prototype.interrupt=Hg;an.prototype.transition=Ym;const wn=e=>()=>e;function Gm(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function Ue(e,t,n){this.k=e,this.x=t,this.y=n}Ue.prototype={constructor:Ue,scale:function(e){return e===1?this:new Ue(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ue(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vr=new Ue(1,0,0);Ue.prototype;function xo(e){e.stopImmediatePropagation()}function Vt(e){e.preventDefault(),e.stopImmediatePropagation()}function Fm(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Um(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ei(){return this.__zoom||vr}function Wm(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Zm(){return navigator.maxTouchPoints||"ontouchstart"in this}function qm(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function Km(){var e=Fm,t=Um,n=qm,o=Wm,r=Zm,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,u=Tg,s=ur("start","zoom","end"),c,h,f,p=500,g=150,m=0,k=10;function b(d){d.property("__zoom",Ei).on("wheel.zoom",Y,{passive:!1}).on("mousedown.zoom",V).on("dblclick.zoom",L).filter(r).on("touchstart.zoom",te).on("touchmove.zoom",J).on("touchend.zoom touchcancel.zoom",oe).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(d,$,v,_){var S=d.selection?d.selection():d;S.property("__zoom",Ei),d!==S?O(d,$,v,_):S.interrupt().each(function(){y(this,arguments).event(_).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},b.scaleBy=function(d,$,v,_){b.scaleTo(d,function(){var S=this.__zoom.k,E=typeof $=="function"?$.apply(this,arguments):$;return S*E},v,_)},b.scaleTo=function(d,$,v,_){b.transform(d,function(){var S=t.apply(this,arguments),E=this.__zoom,N=v==null?w(S):typeof v=="function"?v.apply(this,arguments):v,B=E.invert(N),A=typeof $=="function"?$.apply(this,arguments):$;return n(z(C(E,A),N,B),S,a)},v,_)},b.translateBy=function(d,$,v,_){b.transform(d,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof v=="function"?v.apply(this,arguments):v),t.apply(this,arguments),a)},null,_)},b.translateTo=function(d,$,v,_,S){b.transform(d,function(){var E=t.apply(this,arguments),N=this.__zoom,B=_==null?w(E):typeof _=="function"?_.apply(this,arguments):_;return n(vr.translate(B[0],B[1]).scale(N.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof v=="function"?-v.apply(this,arguments):-v),E,a)},_,S)};function C(d,$){return $=Math.max(i[0],Math.min(i[1],$)),$===d.k?d:new Ue($,d.x,d.y)}function z(d,$,v){var _=$[0]-v[0]*d.k,S=$[1]-v[1]*d.k;return _===d.x&&S===d.y?d:new Ue(d.k,_,S)}function w(d){return[(+d[0][0]+ +d[1][0])/2,(+d[0][1]+ +d[1][1])/2]}function O(d,$,v,_){d.on("start.zoom",function(){y(this,arguments).event(_).start()}).on("interrupt.zoom end.zoom",function(){y(this,arguments).event(_).end()}).tween("zoom",function(){var S=this,E=arguments,N=y(S,E).event(_),B=t.apply(S,E),A=v==null?w(B):typeof v=="function"?v.apply(S,E):v,F=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),U=S.__zoom,I=typeof $=="function"?$.apply(S,E):$,G=u(U.invert(A).concat(F/U.k),I.invert(A).concat(F/I.k));return function(D){if(D===1)D=I;else{var W=G(D),le=F/W[2];D=new Ue(le,A[0]-W[0]*le,A[1]-W[1]*le)}N.zoom(null,D)}})}function y(d,$,v){return!v&&d.__zooming||new R(d,$)}function R(d,$){this.that=d,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(d,$),this.taps=0}R.prototype={event:function(d){return d&&(this.sourceEvent=d),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(d,$){return this.mouse&&d!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&d!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&d!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(d){var $=Qe(this.that).datum();s.call(d,this.that,new Gm(d,{sourceEvent:this.sourceEvent,target:b,type:d,transform:this.that.__zoom,dispatch:s}),$)}};function Y(d,...$){if(!e.apply(this,arguments))return;var v=y(this,$).event(d),_=this.__zoom,S=Math.max(i[0],Math.min(i[1],_.k*Math.pow(2,o.apply(this,arguments)))),E=qe(d);if(v.wheel)(v.mouse[0][0]!==E[0]||v.mouse[0][1]!==E[1])&&(v.mouse[1]=_.invert(v.mouse[0]=E)),clearTimeout(v.wheel);else{if(_.k===S)return;v.mouse=[E,_.invert(E)],Nn(this),v.start()}Vt(d),v.wheel=setTimeout(N,g),v.zoom("mouse",n(z(C(_,S),v.mouse[0],v.mouse[1]),v.extent,a));function N(){v.wheel=null,v.end()}}function V(d,...$){if(f||!e.apply(this,arguments))return;var v=d.currentTarget,_=y(this,$,!0).event(d),S=Qe(d.view).on("mousemove.zoom",A,!0).on("mouseup.zoom",F,!0),E=qe(d,v),N=d.clientX,B=d.clientY;ag(d.view),xo(d),_.mouse=[E,this.__zoom.invert(E)],Nn(this),_.start();function A(U){if(Vt(U),!_.moved){var I=U.clientX-N,G=U.clientY-B;_.moved=I*I+G*G>m}_.event(U).zoom("mouse",n(z(_.that.__zoom,_.mouse[0]=qe(U,v),_.mouse[1]),_.extent,a))}function F(U){S.on("mousemove.zoom mouseup.zoom",null),lg(U.view,_.moved),Vt(U),_.event(U).end()}}function L(d,...$){if(e.apply(this,arguments)){var v=this.__zoom,_=qe(d.changedTouches?d.changedTouches[0]:d,this),S=v.invert(_),E=v.k*(d.shiftKey?.5:2),N=n(z(C(v,E),_,S),t.apply(this,$),a);Vt(d),l>0?Qe(this).transition().duration(l).call(O,N,_,d):Qe(this).call(b.transform,N,_,d)}}function te(d,...$){if(e.apply(this,arguments)){var v=d.touches,_=v.length,S=y(this,$,d.changedTouches.length===_).event(d),E,N,B,A;for(xo(d),N=0;N<_;++N)B=v[N],A=qe(B,this),A=[A,this.__zoom.invert(A),B.identifier],S.touch0?!S.touch1&&S.touch0[2]!==A[2]&&(S.touch1=A,S.taps=0):(S.touch0=A,E=!0,S.taps=1+!!c);c&&(c=clearTimeout(c)),E&&(S.taps<2&&(h=A[0],c=setTimeout(function(){c=null},p)),Nn(this),S.start())}}function J(d,...$){if(this.__zooming){var v=y(this,$).event(d),_=d.changedTouches,S=_.length,E,N,B,A;for(Vt(d),E=0;E<S;++E)N=_[E],B=qe(N,this),v.touch0&&v.touch0[2]===N.identifier?v.touch0[0]=B:v.touch1&&v.touch1[2]===N.identifier&&(v.touch1[0]=B);if(N=v.that.__zoom,v.touch1){var F=v.touch0[0],U=v.touch0[1],I=v.touch1[0],G=v.touch1[1],D=(D=I[0]-F[0])*D+(D=I[1]-F[1])*D,W=(W=G[0]-U[0])*W+(W=G[1]-U[1])*W;N=C(N,Math.sqrt(D/W)),B=[(F[0]+I[0])/2,(F[1]+I[1])/2],A=[(U[0]+G[0])/2,(U[1]+G[1])/2]}else if(v.touch0)B=v.touch0[0],A=v.touch0[1];else return;v.zoom("touch",n(z(N,B,A),v.extent,a))}}function oe(d,...$){if(this.__zooming){var v=y(this,$).event(d),_=d.changedTouches,S=_.length,E,N;for(xo(d),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),E=0;E<S;++E)N=_[E],v.touch0&&v.touch0[2]===N.identifier?delete v.touch0:v.touch1&&v.touch1[2]===N.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(N=qe(N,this),Math.hypot(h[0]-N[0],h[1]-N[1])<k)){var B=Qe(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return b.wheelDelta=function(d){return arguments.length?(o=typeof d=="function"?d:wn(+d),b):o},b.filter=function(d){return arguments.length?(e=typeof d=="function"?d:wn(!!d),b):e},b.touchable=function(d){return arguments.length?(r=typeof d=="function"?d:wn(!!d),b):r},b.extent=function(d){return arguments.length?(t=typeof d=="function"?d:wn([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),b):t},b.scaleExtent=function(d){return arguments.length?(i[0]=+d[0],i[1]=+d[1],b):[i[0],i[1]]},b.translateExtent=function(d){return arguments.length?(a[0][0]=+d[0][0],a[1][0]=+d[1][0],a[0][1]=+d[0][1],a[1][1]=+d[1][1],b):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},b.constrain=function(d){return arguments.length?(n=d,b):n},b.duration=function(d){return arguments.length?(l=+d,b):l},b.interpolate=function(d){return arguments.length?(u=d,b):u},b.on=function(){var d=s.on.apply(s,arguments);return d===s?b:d},b.clickDistance=function(d){return arguments.length?(m=(d=+d)*d,b):Math.sqrt(m)},b.tapDistance=function(d){return arguments.length?(k=+d,b):k},b}const fl=Symbol("MiniMapSlots"),Jm=ce({name:"MiniMapNode",props:["id","position","dimensions","strokeWidth","strokeColor","borderRadius","color","shapeRendering","type","selected","dragging"],emits:["click","dblclick","mouseenter","mousemove","mouseleave"],setup(e,{attrs:t,emit:n}){const o=st(fl);return()=>{var r;const i=(r=t.style)!=null?r:{},a=o[`node-${e.type}`];return a?a(e):he("rect",{id:e.id,class:["vue-flow__minimap-node",t.class].join(" "),style:i,x:e.position.x,y:e.position.y,rx:e.borderRadius,ry:e.borderRadius,width:e.dimensions.width,height:e.dimensions.height,fill:e.color||i.background||i.backgroundColor,stroke:e.strokeColor,strokeWidth:e.strokeWidth,shapeRendering:e.shapeRendering,onClick:l=>n("click",l),onDblClick:l=>n("dblclick",l),onMouseenter:l=>n("mouseenter",l),onMousemove:l=>n("mousemove",l),onMouseleave:l=>n("mouseleave",l)})}}}),Qm=["width","height","viewBox","aria-labelledby"],e0=["id"],t0=["d","fill","stroke","stroke-width"],n0={name:"MiniMap"},o0=ce({...n0,props:{nodeColor:{type:[String,Function],default:"#e2e2e2"},nodeStrokeColor:{type:[String,Function],default:"transparent"},nodeClassName:null,nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 240, 240, 0.6)"},maskStrokeColor:{default:"none"},maskStrokeWidth:{default:1},position:{default:()=>"bottom-right"},pannable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},width:null,height:null},emits:["click","nodeClick","nodeDblclick","nodeMouseenter","nodeMousemove","nodeMouseleave"],setup(e,{emit:t}){const n=Ai(),o=200,r=150,{id:i,edges:a,viewport:l,translateExtent:u,dimensions:s,emits:c,nodes:h,d3Selection:f,d3Zoom:p}=ve(),g=se();ct(fl,zi());const m=ee(()=>{var _,S,E;return(E=(S=e.width)!=null?S:(_=n.style)==null?void 0:_.width)!=null?E:o}),k=ee(()=>{var _,S,E;return(E=(S=e.height)!=null?S:(_=n.style)==null?void 0:_.height)!=null?E:r}),b=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",C=ee(()=>e.nodeColor instanceof Function?e.nodeColor:()=>e.nodeColor),z=ee(()=>e.nodeStrokeColor instanceof Function?e.nodeStrokeColor:()=>e.nodeStrokeColor),w=ee(()=>e.nodeClassName instanceof Function?e.nodeClassName:()=>e.nodeClassName),O=ee(()=>nr(h.value)),y=ee(()=>({x:-l.value.x/l.value.zoom,y:-l.value.y/l.value.zoom,width:s.value.width/l.value.zoom,height:s.value.height/l.value.zoom})),R=ee(()=>h.value&&h.value.length?Ld(O.value,y.value):y.value),Y=ee(()=>{const _=R.value.width/m.value,S=R.value.height/k.value;return Math.max(_,S)}),V=ee(()=>{const _=Y.value*m.value,S=Y.value*k.value,E=5*Y.value;return{offset:E,x:R.value.x-(_-R.value.width)/2-E,y:R.value.y-(S-R.value.height)/2-E,width:_+E*2,height:S+E*2}}),L=ee(()=>!V.value.x||!V.value.y?"":`
    M${V.value.x-V.value.offset},${V.value.y-V.value.offset}
    h${V.value.width+V.value.offset*2}
    v${V.value.height+V.value.offset*2}
    h${-V.value.width-V.value.offset*2}z
    M${y.value.x},${y.value.y}
    h${y.value.width}
    v${y.value.height}
    h${-y.value.width}z`);ko(_=>{if(g.value){const S=Qe(g.value),E=A=>{if(A.sourceEvent.type!=="wheel"||!f.value||!p.value)return;const F=-A.sourceEvent.deltaY*(A.sourceEvent.deltaMode===1?.05:A.sourceEvent.deltaMode?1:.002)*10,U=l.value.zoom*2**F;p.value.scaleTo(f.value,U)},N=A=>{if(A.sourceEvent.type!=="mousemove"||!f.value||!p.value)return;const F={x:l.value.x-A.sourceEvent.movementX*Y.value*Math.max(1,l.value.zoom),y:l.value.y-A.sourceEvent.movementY*Y.value*Math.max(1,l.value.zoom)},U=[[0,0],[s.value.width,s.value.height]],I=vr.translate(F.x,F.y).scale(l.value.zoom),G=p.value.constrain()(I,U,u.value);p.value.transform(f.value,G)},B=Km().on("zoom",e.pannable?N:()=>{}).on("zoom.wheel",e.zoomable?E:()=>{});S.call(B),_(()=>{S.on("zoom",null)})}},{flush:"post"});const te=_=>{const[S,E]=qe(_);t("click",{event:_,position:{x:S,y:E}})},J=(_,S)=>{const E={event:_,node:S,connectedEdges:Ye([S],a.value)};c.miniMapNodeClick(E),t("nodeClick",E)},oe=(_,S)=>{const E={event:_,node:S,connectedEdges:Ye([S],a.value)};c.miniMapNodeDoubleClick(E),t("nodeDblclick",E)},d=(_,S)=>{const E={event:_,node:S,connectedEdges:Ye([S],a.value)};c.miniMapNodeMouseEnter(E),t("nodeMouseenter",E)},$=(_,S)=>{const E={event:_,node:S,connectedEdges:Ye([S],a.value)};c.miniMapNodeMouseMove(E),t("nodeMousemove",E)},v=(_,S)=>{const E={event:_,node:S,connectedEdges:Ye([S],a.value)};c.miniMapNodeMouseLeave(E),t("nodeMouseleave",E)};return(_,S)=>(K(),_e(P(La),{position:e.position,class:Re(["vue-flow__minimap",{pannable:e.pannable,zoomable:e.zoomable}])},{default:ke(()=>[(K(),ae("svg",{ref_key:"el",ref:g,width:P(m),height:P(k),viewBox:[P(V).x,P(V).y,P(V).width,P(V).height].join(" "),role:"img","aria-labelledby":`vue-flow__minimap-${P(i)}`,onClick:te},[ye("title",{id:`vue-flow__minimap-${P(i)}`},"Vue Flow mini map "+Cn(P(i)),9,e0),(K(!0),ae(Ne,null,Mt(P(h),E=>(K(),_e(P(Jm),{id:E.id,key:E.id,position:E.computedPosition,dimensions:E.dimensions,style:Pe(E.style),selected:E.selected,dragging:E.dragging,class:Re(P(w)(E)),color:P(C)(E),"border-radius":e.nodeBorderRadius,"stroke-color":P(z)(E),"stroke-width":e.nodeStrokeWidth,"shape-rendering":P(b),type:E.type,onClick:N=>J(N,E),onDblclick:N=>oe(N,E),onMouseenter:N=>d(N,E),onMousemove:N=>$(N,E),onMouseleave:N=>v(N,E)},null,8,["id","position","dimensions","style","selected","dragging","class","color","border-radius","stroke-color","stroke-width","shape-rendering","type","onClick","onDblclick","onMouseenter","onMousemove","onMouseleave"]))),128)),ye("path",{class:"vue-flow__minimap-mask",d:P(L),fill:e.maskColor,stroke:e.maskStrokeColor,"stroke-width":e.maskStrokeWidth,"fill-rule":"evenodd"},null,8,t0)],8,Qm))]),_:1},8,["position","class"]))}}),r0=[{id:"1",type:"input",label:"Node 1",position:{x:250,y:0},class:"light"},{id:"2",type:"output",label:"Node 2",position:{x:100,y:100},class:"light"},{id:"3",label:"Node 3",position:{x:400,y:100},class:"light"},{id:"4",label:"Node 4",position:{x:150,y:200},class:"light"},{id:"5",type:"output",label:"Node 5",position:{x:300,y:300},class:"light"},{id:"e1-2",source:"1",target:"2",animated:!0},{id:"e1-3",label:"edge with arrowhead",source:"1",target:"3",markerEnd:Dn.ArrowClosed},{id:"e4-5",type:"step",label:"step-edge",source:"4",target:"5",style:{stroke:"orange"},labelBgStyle:{fill:"orange"}},{id:"e3-4",type:"smoothstep",label:"smoothstep-edge",source:"3",target:"4"}],i0=ce({__name:"FlowEditor",setup(e){const{onNodeDragStop:t,onConnect:n,addEdges:o,setTransform:r,toObject:i}=ve(),a=se(r0);t(c=>console.log("drag stop",c)),n(c=>o(c));function l(){return a.value.forEach(c=>{Et(c)&&(c.position={x:Math.random()*400,y:Math.random()*400})})}function u(){return console.log(i())}function s(){return r({x:0,y:0,zoom:1})}return(c,h)=>(K(),_e(P(Bf),{modelValue:a.value,"onUpdate:modelValue":h[0]||(h[0]=f=>a.value=f),class:"basic-flow","default-viewport":{zoom:1.5},"min-zoom":.2,"max-zoom":4},{default:ke(()=>[ie(P(Ff),{gap:12}),ie(P(o0)),ie(P(kp)),ie(P(Rf),{position:"top-right",class:"controls"},{default:ke(()=>[ye("div",{class:"control-btn",title:"Reset Transform",onClick:s},[ie(P(El))]),ye("div",{class:"control-btn",title:"Shuffle Node Positions",onClick:l},[ie(P(Sl))]),ye("div",{class:"control-btn",title:"Log `toObject`",onClick:u},[ie(P($l))])]),_:1})]),_:1},8,["modelValue"]))}});const a0=kl(i0,[["__scopeId","data-v-11c4df8a"]]),d0=ce({__name:"ActionsView",setup(e){return(t,n)=>(K(),_e(a0))}});export{d0 as default};
